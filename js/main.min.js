var f=f||{};f.scope={};f.xa=function(a){return a.raw=a};f.ya=function(a,b){a.raw=b;return a};f.M=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};f.ga=function(a){return{next:f.M(a)}};f.C=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):f.ga(a)};f.V=!1;f.ra=!1;f.sa=!1;f.ta=!1;f.L=!1;f.aa=!1;f.ba=!1;
f.defineProperty=f.V||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};f.ka=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};f.global=f.ka(this);
f.H="function"===typeof Symbol&&"symbol"===typeof Symbol("x");f.fa=!f.L||f.H;f.I={};f.R={};f.ea="$jscp$";f.j=function(a,b,c){b&&(f.L?f.oa(a,b,c):f.pa(a,b))};f.pa=function(a,b){var c=f.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&f.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
f.oa=function(a,b,c){var d=a.split(".");a=1===d.length;var e=d[0],m;!a&&e in f.I?m=f.I:m=f.global;for(e=0;e<d.length-1;e++){var k=d[e];if(!(k in m))return;m=m[k]}d=d[d.length-1];c=f.H&&"es6"===c?m[d]:null;b=b(c);null!=b&&(a?f.defineProperty(f.I,d,{configurable:!0,writable:!0,value:b}):b!==c&&(f.R[d]=f.H?f.global.Symbol(d):f.ea+d,d=f.R[d],f.defineProperty(m,d,{configurable:!0,writable:!0,value:b})))};f.qa=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
f.setPrototypeOf=f.fa&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:f.qa()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;f.m={};f.m.ha=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};f.m.F=function(){this.s=!1;this.h=null;this.i=void 0;this.g=1;this.D=0;this.o=null};function da(a){if(a.s)throw new TypeError("Generator is already running");a.s=!0}
f.m.F.prototype.B=function(a){this.i=a};function ea(a,b){a.o={ia:b,la:!0};a.g=a.D}f.m.F.prototype.return=function(a){this.o={return:a};this.g=this.D};function q(a,b,c){a.g=c;return{value:b}}f.m.F.g=function(a){this.g=[];for(var b in a)this.g.push(b);this.g.reverse()};f.m.J=function(a){this.g=new f.m.F;this.h=a};function fa(a,b){da(a.g);var c=a.g.h;if(c)return ha(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return u(a)}
function ha(a,b,c,d){try{var e=b.call(a.g.h,c);f.m.ha(e);if(!e.done)return a.g.s=!1,e;var m=e.value}catch(k){return a.g.h=null,ea(a.g,k),u(a)}a.g.h=null;d.call(a.g,m);return u(a)}function u(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.s=!1,{value:b.value,done:!1}}catch(c){a.g.i=void 0,ea(a.g,c)}a.g.s=!1;if(a.g.o){b=a.g.o;a.g.o=null;if(b.la)throw b.ia;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
f.m.K=function(a){this.next=function(b){da(a.g);a.g.h?b=ha(a,a.g.h.next,b,a.g.B):(a.g.B(b),b=u(a));return b};this.throw=function(b){da(a.g);a.g.h?b=ha(a,a.g.h["throw"],b,a.g.B):(ea(a.g,b),b=u(a));return b};this.return=function(b){return fa(a,b)};this[Symbol.iterator]=function(){return this}};f.m.wa=function(a,b){b=new f.m.K(new f.m.J(b));f.setPrototypeOf&&a.prototype&&f.setPrototypeOf(b,a.prototype);return b};
f.N=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function m(k){k.done?d(k.value):Promise.resolve(k.value).then(b,c).then(m,e)}m(a.next())})};f.ua=function(a){return f.N(a())};f.A=function(a){return f.N(new f.m.K(new f.m.J(a)))};f.Aa=function(){};
f.j("Symbol",function(a){function b(e){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,m){this.g=e;f.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})}if(a)return a;c.prototype.toString=function(){return this.g};var d=0;return b},"es6");
f.j("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=f.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&f.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return f.na(f.M(this))}})}return a},"es6");
f.na=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
f.j("Promise",function(a){function b(k){this.h=0;this.i=void 0;this.g=[];this.D=!1;var l=this.o();try{k(l.resolve,l.reject)}catch(n){l.reject(n)}}function c(){this.g=null}function d(k){return k instanceof b?k:new b(function(l){l(k)})}if(a&&(!(f.aa||f.ba&&"undefined"===typeof f.global.PromiseRejectionEvent)||!f.global.Promise||-1===f.global.Promise.toString().indexOf("[native code]")))return a;c.prototype.h=function(k){if(null==this.g){this.g=[];var l=this;this.i(function(){l.s()})}this.g.push(k)};
var e=f.global.setTimeout;c.prototype.i=function(k){e(k,0)};c.prototype.s=function(){for(;this.g&&this.g.length;){var k=this.g;this.g=[];for(var l=0;l<k.length;++l){var n=k[l];k[l]=null;try{n()}catch(p){this.o(p)}}}this.g=null};c.prototype.o=function(k){this.i(function(){throw k;})};b.prototype.o=function(){function k(p){return function(r){n||(n=!0,p.call(l,r))}}var l=this,n=!1;return{resolve:k(this.Y),reject:k(this.s)}};b.prototype.Y=function(k){if(k===this)this.s(new TypeError("A Promise cannot resolve to itself"));
else if(k instanceof b)this.ca(k);else{a:switch(typeof k){case "object":var l=null!=k;break a;case "function":l=!0;break a;default:l=!1}l?this.X(k):this.B(k)}};b.prototype.X=function(k){var l=void 0;try{l=k.then}catch(n){this.s(n);return}"function"==typeof l?this.da(l,k):this.B(k)};b.prototype.s=function(k){this.S(2,k)};b.prototype.B=function(k){this.S(1,k)};b.prototype.S=function(k,l){if(0!=this.h)throw Error("Cannot settle("+k+", "+l+"): Promise already settled in state"+this.h);this.h=k;this.i=
l;2===this.h&&this.Z();this.U()};b.prototype.Z=function(){var k=this;e(function(){if(k.W()){var l=f.global.console;"undefined"!==typeof l&&l.error(k.i)}},1)};b.prototype.W=function(){if(this.D)return!1;var k=f.global.CustomEvent,l=f.global.Event,n=f.global.dispatchEvent;if("undefined"===typeof n)return!0;"function"===typeof k?k=new k("unhandledrejection",{cancelable:!0}):"function"===typeof l?k=new l("unhandledrejection",{cancelable:!0}):(k=f.global.document.createEvent("CustomEvent"),k.initCustomEvent("unhandledrejection",
!1,!0,k));k.promise=this;k.reason=this.i;return n(k)};b.prototype.U=function(){if(null!=this.g){for(var k=0;k<this.g.length;++k)m.h(this.g[k]);this.g=null}};var m=new c;b.prototype.ca=function(k){var l=this.o();k.G(l.resolve,l.reject)};b.prototype.da=function(k,l){var n=this.o();try{k.call(l,n.resolve,n.reject)}catch(p){n.reject(p)}};b.prototype.then=function(k,l){function n(t,w){return"function"==typeof t?function(J){try{p(t(J))}catch(B){r(B)}}:w}var p,r,x=new b(function(t,w){p=t;r=w});this.G(n(k,
p),n(l,r));return x};b.prototype.catch=function(k){return this.then(void 0,k)};b.prototype.G=function(k,l){function n(){switch(p.h){case 1:k(p.i);break;case 2:l(p.i);break;default:throw Error("Unexpected state: "+p.h);}}var p=this;null==this.g?m.h(n):this.g.push(n);this.D=!0};b.resolve=d;b.reject=function(k){return new b(function(l,n){n(k)})};b.race=function(k){return new b(function(l,n){for(var p=f.C(k),r=p.next();!r.done;r=p.next())d(r.value).G(l,n)})};b.all=function(k){var l=f.C(k),n=l.next();
return n.done?d([]):new b(function(p,r){function x(J){return function(B){t[J]=B;w--;0==w&&p(t)}}var t=[],w=0;do t.push(void 0),w++,d(n.value).G(x(t.length-1),r),n=l.next();while(!n.done)})};return b},"es6");f.ma=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var m=c++;return{value:b(m,a[m]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};
f.j("Array.prototype.keys",function(a){return a?a:function(){return f.ma(this,function(b){return b})}},"es6");f.O=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var m=a[e];if(b.call(c,m,e,a))return{P:e,T:m}}return{P:-1,T:void 0}};f.j("Array.prototype.find",function(a){return a?a:function(b,c){return f.O(this,b,c).T}},"es6");
f.j("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6");f.u=function(a){return a?a:Array.prototype.fill};f.j("Int8Array.prototype.fill",f.u,"es6");f.j("Uint8Array.prototype.fill",f.u,"es6");f.j("Uint8ClampedArray.prototype.fill",f.u,"es6");f.j("Int16Array.prototype.fill",f.u,"es6");f.j("Uint16Array.prototype.fill",f.u,"es6");
f.j("Int32Array.prototype.fill",f.u,"es6");f.j("Uint32Array.prototype.fill",f.u,"es6");f.j("Float32Array.prototype.fill",f.u,"es6");f.j("Float64Array.prototype.fill",f.u,"es6");f.j("Array.prototype.findIndex",function(a){return a?a:function(b,c){return f.O(this,b,c).P}},"es6");var v=!1,ia=!1,y=!1,z=2,A=!1,C=!1,D=!1,E=!1,F=!1,K=!1,L=!1,ja,ka=!0,M=0,la="",N="",ma=!!window.g,P=void 0;function na(){this.g={}}
na.prototype.register=function(a){var b=void 0;Array.isArray(a)?5<=Math.max.apply(null,a.map(function(c){return String(c).length}))&&6<=a.length||80<=a.join(",").length||a.some(function(c){return"object"==typeof c})||0==a.length?b=a:(b=Q(),this.g['"'+b+'"']=a):"string"==typeof a?(b=Q(),this.g['"'+b+'"']=a.replace(/\\[^n\\]|\\$/g,"")):b=a;return b};
na.prototype.replaceAll=function(a,b){b=void 0===b?!1:b;for(var c=Object.keys(this.g),d={},e=0;e<c.length;d={v:d.v},e++){var m=c[e];d.v=this.g[m];a=a.replace(m,function(k){return function(){if(Array.isArray(k.v))return b?JSON.stringify(k.v):JSON.stringify(k.v).split(/^\[/).join("[ ").split(/,/).join(", ").split(/\]$/).join(" ]");if("string"==typeof k.v)return'"'+k.v+'"'}}(d))}return a};
function oa(){this.g=[];this.h=[];$("ul.issue-list li").remove();$(".stat-warning,.stat-error").removeClass("stat-warning stat-error")}
function pa(a){$("span.issue-error-num").text("\u30a8\u30e9\u30fc:"+a.g.length);$("span.issue-warning-num").text("\u8b66\u544a:"+a.h.length);0>=a.h.length&&0>=a.g.length?$("ul.issue-list").append("<li>\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093</li>"):(a.g.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/error.svg",alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-error")}),a.h.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/warning.svg",
alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-warning")}))}function R(a,b,c){a.h.push([b,c])}function S(a,b,c){a.g.push([b,c])}function Q(){for(var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),b=0,c=a.length;b<c;b++)switch(a[b]){case "x":a[b]=Math.floor(16*Math.random()).toString(16);break;case "y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}return a.join("")}
function qa(a){return null===(void 0===a?"":a).match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?!1:!0}$(window).bind("beforeunload",function(){if(v)return"\u3053\u306e\u30da\u30fc\u30b8\u3092\u96e2\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"});$(document).on("change keyup click","input,textarea,select",function(a){X();v=$(a.target).is("[ui]")?v:!0;$("#edit_state").toggleClass("changed",v)});$(window).on("load",function(){X()});
$("textarea").on("keydown",function(a){if("Enter"==a.key)return!1});$(".separator").on("mousedown",function(){A?A&&(A=!1):A=!0});$(document).on("mouseup",function(){A=!1;$("html").css("cursor","");var a=$(".separator");a.prev().removeClass("drag-lock");a.next().removeClass("drag-lock")});
$(document).on("mousemove",function(a){if(A){$("html").css("cursor","e-resize");var b=$(".separator");b.prev().addClass("drag-lock");b.next().addClass("drag-lock");var c=$("html").width()-2;a=c-a.clientX;c-=a;b.next().css("flex-basis",a);b.prev().css("flex-basis",c)}});$(window).resize(function(){$("div.preview").css("display","");$("div.editor").css("flex-basis","");$("div.data_check").css("flex-basis","");M=5;ya()});
$(document).on("click",function(a){$("details.open-more-info").attr("open")&&($(a.target).is("details.open-more-info>summary")&&(a.preventDefault(),a.stopPropagation()),$("details.open-more-info").prop("open",!1))});$("details.open-more-info").on("mouseenter mouseleave",function(a){$("details.open-more-info").prop("open",$(a.target).is(":hover"))});$("#show_help").on("click",function(){$("#page-help").fadeIn("fast");ya()});$("#page-help").on("click",function(){ya()});
function ya(){switch(M){case 1:$("#help-content-1").fadeOut("fast");$("#help-content_2").slideToggle("fast");M++;break;case 2:$("#help-content_2").slideToggle("fast");$("#help-content-3").fadeIn("fast");M++;break;case 3:$("#help-content-3").fadeOut("fast");$("#page-help").hide();M=0;break;case 5:$("#help-content-1").hide();$("#help-content_2").hide();$("#help-content-3").hide();$("#page-help").hide();M=0;break;default:$("#help-content-1").fadeIn("fast"),M++}}
$("div#show-preview").on("click",function(){var a=$("div#show-preview");$("div.preview").slideToggle();a.toggleClass("active",!a.hasClass("active"))});$("#open-about").on("click",function(){$("div.page-about").removeClass("about-hide")});$("#close-about-btn").on("click",function(){$("div.page-about").addClass("about-hide")});$(".page-about").on("click",function(a){$(a.target).is(".page-about")&&$("div.page-about").addClass("about-hide")});
$(document).on("click",".tab-children:not(.selected)>input",function(){var a=$(this).attr("class");if("modules"==a||C&&"dependencies"==a||F&&"subpacks"==a){var b=$(this).parent(),c=b.index();$("."+a+".tab-children").removeClass("selected");b.addClass("selected");$("."+a+".tab-content-list>div").removeClass("selected-tab-content").eq(c).addClass("selected-tab-content")}});
$("#modules_add,#dependencies_add,#subpacks_add").on("click",function(){($(this).hasClass("modules")||F&&$(this).hasClass("subpacks")||C&&$(this).hasClass("dependencies"))&&Y($(this).attr("class"));X()});
function Y(a){a=void 0===a?"":a;var b=$("."+a+".tab-body"),c=b.children("label").length;b.append($("<label>").addClass(a+" tab-children invisible_Control").append($("<input>").attr("type","button").addClass(a),$("<div>").addClass("tab-number").text(c),$("<div>").addClass("tab-underBar")));b.children("li:last-child").hide().show(150);a=$("."+a+".tab-content-list");b=a.children("div:first-child").clone().removeClass("selected-tab-content");Array.prototype.forEach.call(b.find('input:not([type="button"])'),
function(d){d.value=d.defaultValue});Array.prototype.forEach.call(b.find("textarea"),function(d){d.value=d.defaultValue});a.append(b)}
$("#modules-delete,#dependencies-delete,#subpacks-delete").on("click",function(a){var b="."+$(this).attr("class");if($(this).hasClass("modules")||F&&$(this).hasClass("subpacks")||C&&$(this).hasClass("dependencies")){var c=b;c=void 0===c?"":c;b=$(c+".tab-children");if(!(""==c||1>=b.length)){$(c+".tab-children.selected").remove();$(c+".tab-content-list>.selected-tab-content").remove();b=$(c+".tab-children");c=$(c+".tab-content-list>div");for(var d=0,e=0;e<b.length;e++){var m=b.eq(e),k=c.eq(e);0==e&&
(m.addClass("selected"),k.addClass("selected-tab-content"));m.children("div.tab-number").text(d);d++}}}X();a.stopPropagation()});$("#author-add").on("click",function(){za();X()});function za(a){a=void 0===a?"":a;$("div.authors_list").append($("<label>").addClass("author_name").append($("<div>").addClass("author_num").text($(".author_name").length),$("<input>").attr({type:"text",va:"metadata_author",value:a})))}
$("#author-delete").on("click",function(){$("div.authors_list>.author_name:last-child").remove();X()});$("#issue-control").on("click",function(){var a=$("div.issue-status-label svg");a.hasClass("close")?a.attr("class","open"):a.attr("class","close");$("div.issue_content").slideToggle()});
if(navigator.share)$("#page-share").addClass("supported").on("click",function(){return f.A(function(a){return q(a,navigator.share({title:"MCBE Manifest Generator",text:"MCBE Manifest Generator -manifest.json\u3092\u7c21\u5358\u306b\u4f5c\u6210\u30fb\u7de8\u96c6-",url:"https://toka7290.github.io/MCAddonSetupManager/"}),0)})});$(window).on("keydown",function(a){if(!a.defaultPrevented&&a.ctrlKey){switch(a.key.toLowerCase()){case "s":a.shiftKey?Aa(!0):Aa()}a.stopPropagation();a.preventDefault()}});
ma?(console.log("File System Access APIs"),$(".import_button.file_system_access").removeClass("disabled"),$(".import_button.file_reader").addClass("disabled"),$(".preview_control_child.save").removeClass("disabled"),$("#input_file_fsa").on("click",function(){var a,b,c;return f.A(function(d){if(1==d.g)return a=f,b=a.C,q(d,window.g({multiple:!1,ja:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),2);c=b.call(a,d.i);P=c.next().value;Ba();d.g=0})}),$("#control_save").on("click",
function(){return f.A(function(a){Aa();a.g=0})}),$(window).on("focus",function(){!v&&P&&Ba()})):($(".import_button.file_system_access").addClass("disabled"),$(".import_button.file_reader").removeClass("disabled"),$(".preview_control_child.save").addClass("disabled"),$("#input-file").on("change",function(){Ca()}));function Ba(){var a,b;f.A(function(c){if(1==c.g)return P?q(c,P.getFile(),2):c.return();if(3!=c.g)return a=c.i,q(c,a.text(),3);b=c.i;Da(b);c.g=0})}
function Aa(a){var b=N;a=void 0===a?!1:a;var c,d;f.A(function(e){switch(e.g){case 1:a||(c=P);if(c){e.g=2;break}return q(e,window.h({ja:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),3);case 3:c=e.i;case 2:return q(e,c.za(),4);case 4:return d=e.i,q(e,d.write(b),5);case 5:return q(e,d.close(),6);case 6:v=!1,$("#edit_state").toggleClass("changed",v),a||(P=c),e.g=0}})}
function Ca(){var a=$("#input-file").prop("files")[0],b=new FileReader;b.onload=function(){Da(b.result)};try{b.readAsText(a)}catch(c){window.alert("\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fmanifest.json\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002manifest.json\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),console.error("error:"+c)}}$(document).on("dragenter dragover",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").removeClass("hide")});
$(".file-drop-zone-pick").on("dragleave",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").addClass("hide")});$(document).on("drop",function(a){v=!0;$(".file-drop-zone").addClass("hide");var b=a;a.originalEvent&&(b=a.originalEvent);b.stopPropagation();b.preventDefault();$("#input-file").prop("files",b.dataTransfer.files);Ca()});
navigator.clipboard?($(".preview_control_child.copy").removeClass("disabled"),$("#control_copy").on("click",function(){return f.A(function(a){if(1==a.g)return console.log("Clipboard"),q(a,navigator.clipboard.writeText(N),2);$("p#control_copy_text").text("Copied");setTimeout(function(){$("p#control_copy_text").text("Copy")},1E3);a.g=0})})):$(".preview_control_child.copy").addClass("disabled");
$("#control_download").on("click",function(){$("<a></a>",{href:window.URL.createObjectURL(new Blob([N])),download:"manifest.json",target:"_blank"})[0].click()});$("#control_simple").on("click",function(a){y=a.target.checked;Gc()});
function Gc(){$(".editor_element_group.editor_normal_mode").toggleClass("hide",y);$(".editor_element_group.editor_simple_mode").toggleClass("hide",!y);var a=$("#simple_pack_name"),b=a.val(),c=$("#simple_description"),d=c.val(),e=$("#header_pack_name").val(),m=$("#header_description").val();if(y){""==b&&""!=e&&a.val(e);""==d&&""!=m&&c.val(m);la=$(".modules.tab-content-list > div:nth-child(1) #modules_description").val();a="behavior";switch($(".modules.tab-content-list > div:nth-child(1) #modules_type").val()){case "resources":a=
"texture";break;case "world_template":a="world";break;case "skin_pack":a="skin"}$('input[type="radio"][name="simple_type_child"][value="'+a+'"]').prop("checked",!0)}else a.val(""),c.val("")}$("#control_compact").on("click",function(a){ia=a.target.checked});$("#format_version").on("change",function(){z=Number($("#format_version").val())});$(document).on("click",'input[type="button"].generate_uuid',function(){$(this).parents("div.type-uuid").find('input[type="text"]').val(Q);X()});
function X(){if(y){var a=$("#simple_pack_name").val(),b=$("#simple_description").val(),c=$("#header_pack_name"),d=$("#header_description");c.val(a);d.val(b);b=$("#header_uuid");""==b.val()&&(b.val(Q()),v=!0);b=$(".modules.tab-children").length;for(c=0;c<b;c++){d=$(".modules.tab-content-list > div:nth-child("+(c+1)+")");var e=d.find("#modules_type"),m="data",k="behavior";switch($('input[type="radio"][name="simple_type_child"]:checked').val()){case "behavior":m="data";k="behavior";break;case "texture":k=
m="resources";break;case "world":m="world_template";k="world template";break;case "skin":m="skin_pack",k="skin pack"}e.val()!=m&&(la="");e.val(m);e=d.find("#modules_description");""==la&&(e.val(a.replace(/\u00a7.|\\n/g,"")+" "+k+" module"),v=!0);d=d.find("#modules_uuid");""==d.val()&&(d.val(Q()),v=!0)}}Hc();Ic();Jc();ka&&Kc();Lc();N=Mc();$("pre.language-json code.language-json").remove();$("pre.language-json").append($("<code>").addClass("language-json").text(N));a=$("#header_pack_name").val().toString();
if(""==a)a="\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093";else if(null!=a.match(/\\/g)){a=a.split("\\\\");b="";for(var l in a)if(c=a[l].indexOf("\\n"),1<=l&&(b+="\\\\"),-1!=c){b+=a[l].slice(0,a[l].indexOf("\\n")-a[l].length)+"\u2026";break}else b+=""+a[l];a=b}$("#card-title").html(MinecraftText.toHTML(a));c=$("#header_description").val().toString();if(""==c)c="\u00a7c\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e";else if(null!=c.match(/\\/g)){a=l=0;b="";c=c.split("\\\\");for(var n in c){do if(a++,
l=c[n].indexOf("\\n",l+1),-1==l)break;while(3>a);1<=n&&(b+="\\\\");if(-1!=l){b+=c[n].slice(0,l+1-c[n].length)+"\u2026";break}else b+=""+c[n]}c=b}$("#card-description").html(MinecraftText.toHTML(c));MinecraftText.refeashObfuscate();Prism.highlightAll()}function Lc(){ka=!1;"number"===typeof ja&&window.clearTimeout(ja);ja=window.setTimeout(function(){ka=!0;Kc()},500)}
function Hc(){C=$("#dependencies_enable").is(":checked")||$("#dependencies_enable").is(":indeterminate");D=$("#capabilities_enable").is(":checked")||$("#capabilities_enable").is(":indeterminate");E=$("#metadata_enable").is(":checked")||$("#metadata_enable").is(":indeterminate");F=$("#subpacks_enable").is(":checked")||$("#subpacks_enable").is(":indeterminate");var a=$(".dependencies.tab-content-list div.value-element");C?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",
!1),""==$("#dependencies_uuid").val()?$("#dependencies_enable").prop("indeterminate",!0):$("#dependencies_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".capabilities_list .value-element");D?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),$("div.capabilities_list div input").is(":checked")?$("#capabilities_enable").prop("indeterminate",!1):$("#capabilities_enable").prop("indeterminate",!0)):(a.addClass("disabled"),
a.find("input").prop("disabled",!0));a=$(".metadata_list .value-element");E?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),[0<$(".metadata_author").length?""!=$(".metadata_author").val():!1,""!=$("#metadata_url").val(),""!=$("#metadata_license").val()].some(function(b){return b})?$("#metadata_enable").prop("indeterminate",!1):$("#metadata_enable").prop("indeterminate",!0)):(a.addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".subpacks.tab-content-list div.value-element");
F?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",!1),""==$("#subpacks_folder_name").val()&&""==$("#subpacks_name").val()?$("#subpacks_enable").prop("indeterminate",!0):$("#subpacks_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0))}
function Ic(){[".dependencies",".subpacks"].forEach(function(a,b){Nc(a,[[C,F][b],[C,F][b],[C,F][b]&&1<$(a+".tab-children").length])});1<$(".author_name").length?$(".remove_author").removeClass("disabled").find("input").prop("disabled",!1):$(".remove_author").addClass("disabled").find("input").prop("disabled",!0)}
function Nc(a,b){a=void 0===a?"":a;b=void 0===b?[0,0,0]:b;[".tab-body",".add-tab",".remove-tab"].forEach(function(c,d){c=$(a+c);1==b[d]?c.removeClass("disabled").find("input").prop("disabled",!1):0==b[d]&&c.addClass("disabled").find("input").prop("disabled",!0)})}
function Jc(){var a=Array.prototype.map.call($(".modules.tab-content-list > div #modules_type"),function(l){return l.value});K=a.some(function(l){return"world_template"==l});L=a.some(function(l){return"skin_pack"==l});$("#header_min_engine_version").toggleClass("disabled",K||L);$("#header_min_engine_version_input input").prop("disabled",K||L);$("#header_base_game_version").toggleClass("disabled",2<=z&&!K);$("#header_base_game_version_input input").prop("disabled",2<=z&&!K);$("#header_lock_template_options").prop("disabled",
!K).parent().toggleClass("disabled",!K);$("#header_pack_scope_label").toggleClass("disabled",K||L);$("#header_pack_scope").prop("disabled",K||L);var b=[!1,!1,!1,!1,!1,!1,!1],c={},d=(c.data=0,c.resources=1,c.client_data=2,c.javascript=3,c["interface"]=4,c.world_template=5,c.skin_pack=6,c);c=K||L||a.some(function(l){return"resources"==l});for(var e={l:0};e.l<a.length;e={l:e.l},e.l++){b.forEach(function(l){return function(n,p){$(".modules.tab-content-list > div:nth-child("+(l.l+1)+") #modules_type option:nth-child("+
(p+1)+")").prop("disabled",n)}}(e));if(b[d[a[e.l]]]){var m=b.indexOf(!1),k=$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_type").prop("selectedIndex",m);b[m]=!0;a[e.l]=k.val()}b[d[a[e.l]]]=!0;e.l||["resources","world_template","skin_pack"].forEach(function(l){b[d[l]]=!0});c&&b.fill(!0);$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_entry_label").toggleClass("disabled","javascript"!=a[e.l]);$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_entry").prop("disabled",
"javascript"!=a[e.l])}c?Nc(".modules",[!1,0,0]):Nc(".modules",[!0,b.some(function(l){return 0==l}),a.length-1])}
function Kc(){var a=new oa,b=$("#header_min_engine_version_major"),c=b.val();switch(z){case 1:(1<c||13<=Number($("#header_min_engine_version_minor").val()))&&R(a,"[Header:min engine version] \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f31\u3067\u306f1.13\u3088\u308a\u4f4e\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f32\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002",b.parent().find("input"));
break;case 2:1>=c&&13>Number($("#header_min_engine_version_minor").val())&&S(a,"[Header:min engine version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",b.parent().find("input")),1>=Number($("#header_base_game_version_major").val())&&13>Number($("#header_base_game_version_minor").val())&&S(a,"[Header:base game version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",$("#header_base_game_version_major").parent().find("input"))}b=
$("#header_pack_name");c=b.val();""==c?R(a,'[Header:name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002\u540d\u524d\u304c\u7a7a\u306e\u5834\u5408\u3001"\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&S(a,'[Header:name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_description");c=b.val();""==c?R(a,'[Header:description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u8aac\u660e\u304c\u7a7a\u306e\u5834\u5408\u3001"\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&S(a,'[Header:description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_uuid");c=b.val();""==c?S(a,"[Header:uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):qa(c)||S(a,"[Header:uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);for(var d=$(".modules.tab-children").length,e=0;e<d;e++){var m=e+1;b=$(".modules.tab-content-list > div:nth-child("+m+") #modules_type");var k=b.val();null==k&&S(a,"[Modules:"+
e+":type] type\u304cnull\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002type\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b);b=$(".modules.tab-content-list > div:nth-child("+m+") #modules_description");c=b.val();""==c?R(a,"[Modules:"+e+":description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&S(a,"[Modules:"+e+':description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$(".modules.tab-content-list > div:nth-child("+m+") #modules_uuid");c=b.val();""==c?S(a,"[Modules:"+e+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):qa(c)||S(a,"[Modules:"+e+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);"javascript"==k&&(b=$(".modules.tab-content-list > div:nth-child("+m+") #modules_entry"),c=b.val(),""==c?S(a,
"[Modules:"+e+":entry] \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093",b):c.match(/\.js$/)||S(a,"[Modules:"+e+":entry] \u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f .js \u306e\u62e1\u5f35\u5b50\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002 \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u306fJavaScript\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u305b\u3093\u3002",b))}if(C)for(d=
$(".dependencies.tab-children").length,e=0;e<d;e++)b=$("div.dependencies.tab-content-list > div:nth-child("+(e+1)+") #dependencies_uuid"),c=b.val(),""==c?S(a,"[Dependencies:"+e+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):qa(c)||S(a,"[Dependencies:"+e+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);D&&($("#experimental_custom_ui").is(":checked")||
$("#chemistry").is(":checked")||$("#raytracing").is(":checked")||R(a,"[Capabilities] \u4e00\u3064\u3082\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",$(".capabilities_list>input")));if(E){if(d=$("label.author_name").length)for(e=0;e<d;e++)b=$("input.metadata_author").eq(e),c=b.val(),""==c?R(a,"[Metadata:author:"+e+"] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&S(a,"[Metadata:author:"+e+'] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u6d88\u53bb\u3059\u308b\u304b\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3057\u3066\u518d\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);else R(a,"[Metadata:author] \u540d\u524d\u304c\u4e00\u3064\u3082\u3042\u308a\u307e\u305b\u3093\u3002",$("div.add_author"));b=$("#metadata_url");c=b.val();""==c?R(a,"[Metadata:url] URL\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&S(a,'[Metadata:url] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#metadata_license");c=b.val();""==c?R(a,"[Metadata:license] \u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&S(a,'[Metadata:license] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',b)}if(F)for(d=$(".subpacks.tab-children").length,
e=0;e<d;e++)c=$("div.subpacks.tab-content-list > div:nth-child("+(e+1)+")"),b=c.find("#subpacks_folder_name"),""==b.val()&&S(a,"[Subpacks:"+e+":folder_name] \u30d5\u30a9\u30eb\u30c0\u30fc\u540d\u304c\u7a7a\u3067\u3059\u3002",b),b=c.find("#subpacks_name"),c=b.val().toString(),""==c?S(a,"[Subpacks:"+e+":name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&S(a,"[Subpacks:"+e+':name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);pa(a)}
function Oc(a,b){a=void 0===a?"":a;b=void 0===b?"":b;var c="\u6709\u52b9\u306ajson\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002";if(""==a||""==b)return c;b=b.split(" ");var d=b.findIndex(function(l){return"line"==l}),e=b.findIndex(function(l){return"position"==l});if(-1!=d){var m=parseInt(b[d+1],10);b=function(l){for(var n=0,p=1;p<l;p++)n=a.indexOf("\n",n)+1;return n};var k=b(m-1);b=b(m+1)-1;c+="\n"+(m-1)+"~"+m+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(k,
b)}else-1!=e&&(b=b[e+1],d=a.lastIndexOf("\n",a.lastIndexOf("\n",b)-1)+1,e=null!=(k=null==(m=a.substr(0,d).match(/\n/g))?void 0:m.length)?k:1,c+="\n"+e+"~"+(e+1)+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(d,a.indexOf("\n",b-1)));return c}
function Da(a){a=void 0===a?"":a;var b={};try{b=JSON.parse(a)}catch(ra){if(a.match(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g)){window.alert(Oc(a,ra.message)+"\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u9664\u53bb\u3057\u3066\u518d\u5ea6\u8a66\u307f\u307e\u3059\u3002\n");var c=a.replace(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g,"");try{b=JSON.parse(c)}catch(Ea){window.alert(Oc(c,Ea.message));console.error("error:"+Ea);return}}else{window.alert(Oc(a,ra.message));console.error("error:"+
ra);return}}var d;if(null==(d=b)?0:d.format_version)$("#format_version").val(b.format_version);else{var e,m;if(null==(e=b)?0:null==(m=e.header)?0:m.modules){window.alert("\u53e4\u3044\u5f62\u5f0f(pack_manifest.json)\u304b\u3089\u5909\u63db\u3057\u307e\u3059\u3002");var k=b.header,l;$("#header_pack_name").val(null!=(l=null==k?void 0:k.name)?l:"");var n;$("#header_description").val(null!=(n=null==k?void 0:k.description)?n:"");var p;$("#header_uuid").val(null!=(p=null==k?void 0:k.pack_id)?p:"");var r,
x=(null!=(r=null==k?void 0:k.packs_version)?r:"1.0.0").split("."),t;$("#header_version_major").val(null!=(t=null==x?void 0:x[0])?t:1);var w;$("#header_version_minor").val(null!=(w=null==x?void 0:x[1])?w:0);var J;$("#header_version_patch").val(null!=(J=null==x?void 0:x[2])?J:0);if(null!=k.modules)for(var B=0;B<k.modules.length;B++){0<B&&Y("modules");var Z=k.modules[B],O=$(".modules.tab-content-list > div:nth-child("+(B+1)+")"),Fa=void 0,Ga=void 0;O.find("#modules_type").val(null!=(Ga=null==(Fa=Z)?
void 0:Fa.type)?Ga:"data");var Ha=void 0,Ia=void 0;O.find("#modules_description").val(null!=(Ia=null==(Ha=Z)?void 0:Ha.description)?Ia:"");var Ja=void 0,Ka=void 0,sa=(null!=(Ka=null==(Ja=Z)?void 0:Ja.version)?Ka:"1.0.0").split("."),La=void 0,Ma=void 0;O.find("#modules_version_major").val(null!=(Ma=null==(La=sa)?void 0:La[0])?Ma:1);var Na=void 0,Oa=void 0;O.find("#modules_version_minor").val(null!=(Oa=null==(Na=sa)?void 0:Na[1])?Oa:0);var Pa=void 0,Qa=void 0;O.find("#modules_version_patch").val(null!=
(Qa=null==(Pa=sa)?void 0:Pa[2])?Qa:0);var Ra=void 0,Sa=void 0;O.find("#modules_uuid").val(null!=(Sa=null==(Ra=Z)?void 0:Ra.uuid)?Sa:"")}if(null!=k.dependencies){$("#dependencies_enable").prop("checked",!0);for(var T=0;T<k.dependencies.length;T++){0<T&&Y("dependencies");var Ta=k.dependencies[T],aa=$("div.dependencies.tab-content-list > div:nth-child("+(T+1)+")"),Ua=void 0,Va=void 0;aa.find("#dependencies_uuid").val(null!=(Va=null==(Ua=Ta)?void 0:Ua.uuid)?Va:"");var Wa=void 0,Xa=void 0,ta=(null!=(Xa=
null==(Wa=Ta)?void 0:Wa.version)?Xa:"1.0.0").split("."),Ya=void 0,Za=void 0;aa.find("#dependencies_version_major").val(null!=(Za=null==(Ya=ta)?void 0:Ya[0])?Za:1);var $a=void 0,ab=void 0;aa.find("#dependencies_version_minor").val(null!=(ab=null==($a=ta)?void 0:$a[1])?ab:0);var bb=void 0,cb=void 0;aa.find("#dependencies_version_patch").val(null!=(cb=null==(bb=ta)?void 0:bb[2])?cb:0)}}X();return}}var db,eb;$("#header_pack_name").val(null!=(eb=null==(db=b.header)?void 0:db.name)?eb:"");var fb,gb;$("#header_description").val(null!=
(gb=null==(fb=b.header)?void 0:fb.description)?gb:"");var hb,ib,jb;$("#header_version_major").val(null!=(jb=null==(hb=b.header)?void 0:null==(ib=hb.version)?void 0:ib[0])?jb:1);var kb,lb,mb;$("#header_version_minor").val(null!=(mb=null==(kb=b.header)?void 0:null==(lb=kb.version)?void 0:lb[1])?mb:0);var nb,ob,pb;$("#header_version_patch").val(null!=(pb=null==(nb=b.header)?void 0:null==(ob=nb.version)?void 0:ob[2])?pb:0);var qb,rb,sb;$("#header_min_engine_version_major").val(null!=(sb=null==(qb=b.header)?
void 0:null==(rb=qb.min_engine_version)?void 0:rb[0])?sb:1);var tb,ub,vb;$("#header_min_engine_version_minor").val(null!=(vb=null==(tb=b.header)?void 0:null==(ub=tb.min_engine_version)?void 0:ub[1])?vb:13);var wb,xb,yb;$("#header_min_engine_version_patch").val(null!=(yb=null==(wb=b.header)?void 0:null==(xb=wb.min_engine_version)?void 0:xb[2])?yb:0);var zb,Ab;$("#header_uuid").val(null!=(Ab=null==(zb=b.header)?void 0:zb.uuid)?Ab:"");var Bb,Cb;$("#header_platform_locked").prop("checked",null!=(Cb=null==
(Bb=b.header)?void 0:Bb.platform_locked)?Cb:!1);var Db,Eb,Fb;$("#header_base_game_version_major").val(null!=(Fb=null==(Db=b.header)?void 0:null==(Eb=Db.base_game_version)?void 0:Eb[0])?Fb:1);var Gb,Hb,Ib;$("#header_base_game_version_minor").val(null!=(Ib=null==(Gb=b.header)?void 0:null==(Hb=Gb.base_game_version)?void 0:Hb[1])?Ib:13);var Jb,Kb,Lb;$("#header_base_game_version_patch").val(null!=(Lb=null==(Jb=b.header)?void 0:null==(Kb=Jb.base_game_version)?void 0:Kb[2])?Lb:0);var Mb,Nb;$("#header_lock_template_options").prop("checked",
null!=(Nb=null==(Mb=b.header)?void 0:Mb.lock_template_options)?Nb:!1);var Ob,Pb;$("#header_pack_scope").val(null!=(Pb=null==(Ob=b.header)?void 0:Ob.pack_scope)?Pb:"none");var Qb;if(null==(Qb=b)?0:Qb.modules)for(var U=0;U<b.modules.length;U++){0<U&&Y("modules");var G=b.modules[U],H=$(".modules.tab-content-list > div:nth-child("+(U+1)+")"),Rb=void 0,Sb=void 0;H.find("#modules_type").val(null!=(Sb=null==(Rb=G)?void 0:Rb.type)?Sb:"data");var Tb=void 0,Ub=void 0;H.find("#modules_description").val(null!=
(Ub=null==(Tb=G)?void 0:Tb.description)?Ub:"");var Vb=void 0,Wb=void 0,Xb=void 0;H.find("#modules_version_major").val(null!=(Xb=null==(Vb=G)?void 0:null==(Wb=Vb.version)?void 0:Wb[0])?Xb:1);var Yb=void 0,Zb=void 0,$b=void 0;H.find("#modules_version_minor").val(null!=($b=null==(Yb=G)?void 0:null==(Zb=Yb.version)?void 0:Zb[1])?$b:0);var ac=void 0,bc=void 0,cc=void 0;H.find("#modules_version_patch").val(null!=(cc=null==(ac=G)?void 0:null==(bc=ac.version)?void 0:bc[2])?cc:0);var dc=void 0,ec=void 0;H.find("#modules_uuid").val(null!=
(ec=null==(dc=G)?void 0:dc.uuid)?ec:"");var fc=void 0,gc=void 0;H.find("#modules_entry").val(null!=(gc=null==(fc=G)?void 0:fc.entry)?gc:"")}var hc;if(null==(hc=b)?0:hc.dependencies){$("#dependencies_enable").prop("checked",!0);for(var V=0;V<b.dependencies.length;V++){0<V&&Y("dependencies");var ba=b.dependencies[V],ca=$("div.dependencies.tab-content-list > div:nth-child("+(V+1)+")"),ic=void 0,jc=void 0;ca.find("#dependencies_uuid").val(null!=(jc=null==(ic=ba)?void 0:ic.uuid)?jc:"");var kc=void 0,lc=
void 0,mc=void 0;ca.find("#dependencies_version_major").val(null!=(mc=null==(kc=ba)?void 0:null==(lc=kc.version)?void 0:lc[0])?mc:1);var nc=void 0,oc=void 0,pc=void 0;ca.find("#dependencies_version_minor").val(null!=(pc=null==(nc=ba)?void 0:null==(oc=nc.version)?void 0:oc[1])?pc:0);var qc=void 0,rc=void 0,sc=void 0;ca.find("#dependencies_version_patch").val(null!=(sc=null==(qc=ba)?void 0:null==(rc=qc.version)?void 0:rc[2])?sc:0)}}var tc;if(null==(tc=b)?0:tc.capabilities){$("#capabilities_enable").prop("checked",
!0);for(var uc=f.C(b.capabilities),ua=uc.next();!ua.done;ua=uc.next())switch(ua.value){case "experimental_custom_ui":$("#experimental_custom_ui").prop("checked",!0);break;case "chemistry":$("#chemistry").prop("checked",!0);break;case "raytracing":$("#raytracing").prop("checked",!0)}}var vc;if(null==(vc=b)?0:vc.metadata){$("#metadata_enable").prop("checked",!0);var I=b.metadata;if(null==I?0:I.authors)for(var wc=f.C(I.authors),va=wc.next();!va.done;va=wc.next())za(va.value);var xc;$("#metadata_url").val(null!=
(xc=null==I?void 0:I.url)?xc:"");var yc;$("#metadata_license").val(null!=(yc=null==I?void 0:I.license)?yc:"")}var zc;if(null==(zc=b)?0:zc.subpacks){$("#subpacks_enable").prop("checked",!0);for(var W=0;W<b.subpacks.length;W++){0<W&&Y("subpacks");var wa=b.subpacks[W],xa=$("div.subpacks.tab-content-list > div:nth-child("+(W+1)+")"),Ac=void 0,Bc=void 0;xa.find("#subpacks_folder_name").val(null!=(Bc=null==(Ac=wa)?void 0:Ac.folder_name)?Bc:"");var Cc=void 0,Dc=void 0;xa.find("#subpacks_name").val(null!=
(Dc=null==(Cc=wa)?void 0:Cc.name)?Dc:"");var Ec=void 0,Fc=void 0;xa.find("#subpacks_memory_tier").val(null!=(Fc=null==(Ec=wa)?void 0:Ec.memory_tier)?Fc:0)}}Gc();X()}
function Mc(){var a=new na,b={};b.format_version=z;b.header={};b.header.name=a.register($("#header_pack_name").val());b.header.description=a.register($("#header_description").val());b.header.version=a.register([Number($("#header_version_major").val()),Number($("#header_version_minor").val()),Number($("#header_version_patch").val())]);b.header.uuid=$("#header_uuid").val();b.header.platform_locked=$("#header_platform_locked").is(":checked")?!0:void 0;K?(2<=z&&(b.header.base_game_version=a.register([Number($("#header_base_game_version_major").val()),
Number($("#header_base_game_version_minor").val()),Number($("#header_base_game_version_patch").val())])),b.header.lock_template_options=$("#header_lock_template_options").is(":checked")):L||(b.header.min_engine_version=a.register([Number($("#header_min_engine_version_major").val()),Number($("#header_min_engine_version_minor").val()),Number($("#header_min_engine_version_patch").val())]),b.header.pack_scope="none"!=$("#header_pack_scope").val()?$("#header_pack_scope").val():void 0);b.modules=[];for(var c=
$(".modules.tab-children").length,d=0;d<c;d++){var e=$(".modules.tab-content-list > div:nth-child("+(d+1)+")"),m=e.find("#modules_type").val();null!=m&&void 0!=m&&(b.modules[d]={},b.modules[d].type=m,b.modules[d].description=a.register(e.find("#modules_description").val()),b.modules[d].version=a.register([Number(e.find("#modules_version_major").val()),Number(e.find("#modules_version_minor").val()),Number(e.find("#modules_version_patch").val())]),b.modules[d].uuid=e.find("#modules_uuid").val(),b.modules[d].entry=
"javascript"==b.modules[d].type?a.register(e.find("#modules_entry").val()):void 0)}if(C)for(b.dependencies=[],c=$(".dependencies.tab-children").length,d=0;d<c;d++)e=$("div.dependencies.tab-content-list > div:nth-child("+(d+1)+")"),b.dependencies[d]={},b.dependencies[d].uuid=e.find("#dependencies_uuid").val(),b.dependencies[d].version=a.register([Number(e.find("#dependencies_version_major").val()),Number(e.find("#dependencies_version_minor").val()),Number(e.find("#dependencies_version_patch").val())]);
D&&$("div.capabilities_list div input").is(":checked")&&(b.capabilities=[],$("#experimental_custom_ui").is(":checked")&&b.capabilities.push("experimental_custom_ui"),$("#chemistry").is(":checked")&&b.capabilities.push("chemistry"),$("#raytracing").is(":checked")&&b.capabilities.push("raytracing"));c=[function(){for(var k=$("label.author_name").length,l=0;l<k;l++)if(""!=$(".metadata_author").eq(l).val())return!0;return!1}(),""!=$("#metadata_url").val(),""!=$("#metadata_license").val()];if(E&&c.some(function(k){return k})){b.metadata=
{};if(c[0])for(b.metadata.authors=[],d=$("label.author_name").length,e=0;e<d;e++)b.metadata.authors.push(a.register($("input.metadata_author").eq(e).val()));c[1]&&(b.metadata.url=a.register($("#metadata_url").val()));c[2]&&(b.metadata.license=a.register($("#metadata_license").val()))}if(F)for(b.subpacks=[],c=$(".subpacks.tab-children").length,d=0;d<c;d++)e=d+1,b.subpacks[d]={},m=$("div.subpacks.tab-content-list > div:nth-child("+e+")"),b.subpacks[d].folder_name=m.find("#subpacks_folder_name").val(),
b.subpacks[d].name=a.register($("div.subpacks.tab-content-list > div:nth-child("+e+") #subpacks_name").val()),b.subpacks[d].memory_tier=Number(m.find("#subpacks_memory_tier").val());return a.replaceAll(JSON.stringify(b,void 0,ia?void 0:"  "),ia)};
