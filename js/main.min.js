var f=f||{};f.scope={};f.xa=function(b){return b.raw=b};f.ya=function(b,a){b.raw=a;return b};f.M=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};f.ga=function(b){return{next:f.M(b)}};f.C=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):f.ga(b)};f.V=!1;f.ra=!1;f.sa=!1;f.ta=!1;f.L=!1;f.aa=!1;f.ba=!1;
f.defineProperty=f.V||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};f.ka=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};f.global=f.ka(this);
f.H="function"===typeof Symbol&&"symbol"===typeof Symbol("x");f.fa=!f.L||f.H;f.I={};f.R={};f.ea="$jscp$";f.j=function(b,a,c){a&&(f.L?f.oa(b,a,c):f.pa(b,a))};f.pa=function(b,a){var c=f.global;b=b.split(".");for(var d=0;d<b.length-1;d++){var e=b[d];if(!(e in c))return;c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&f.defineProperty(c,b,{configurable:!0,writable:!0,value:a})};
f.oa=function(b,a,c){var d=b.split(".");b=1===d.length;var e=d[0],m;!b&&e in f.I?m=f.I:m=f.global;for(e=0;e<d.length-1;e++){var k=d[e];if(!(k in m))return;m=m[k]}d=d[d.length-1];c=f.H&&"es6"===c?m[d]:null;a=a(c);null!=a&&(b?f.defineProperty(f.I,d,{configurable:!0,writable:!0,value:a}):a!==c&&(f.R[d]=f.H?f.global.Symbol(d):f.ea+d,d=f.R[d],f.defineProperty(m,d,{configurable:!0,writable:!0,value:a})))};f.qa=function(){var b={a:!0},a={};try{return a.__proto__=b,a.a}catch(c){}return!1};
f.setPrototypeOf=f.fa&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:f.qa()?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null;f.m={};f.m.ha=function(b){if(!(b instanceof Object))throw new TypeError("Iterator result "+b+" is not an object");};f.m.F=function(){this.s=!1;this.h=null;this.i=void 0;this.g=1;this.D=0;this.o=null};function q(b){if(b.s)throw new TypeError("Generator is already running");b.s=!0}
f.m.F.prototype.B=function(b){this.i=b};function u(b,a){b.o={ia:a,la:!0};b.g=b.D}f.m.F.prototype.return=function(b){this.o={return:b};this.g=this.D};function v(b,a,c){b.g=c;return{value:a}}f.m.F.g=function(b){this.g=[];for(var a in b)this.g.push(a);this.g.reverse()};f.m.J=function(b){this.g=new f.m.F;this.h=b};function aa(b,a){q(b.g);var c=b.g.h;if(c)return x(b,"return"in c?c["return"]:function(d){return{value:d,done:!0}},a,b.g.return);b.g.return(a);return y(b)}
function x(b,a,c,d){try{var e=a.call(b.g.h,c);f.m.ha(e);if(!e.done)return b.g.s=!1,e;var m=e.value}catch(k){return b.g.h=null,u(b.g,k),y(b)}b.g.h=null;d.call(b.g,m);return y(b)}function y(b){for(;b.g.g;)try{var a=b.h(b.g);if(a)return b.g.s=!1,{value:a.value,done:!1}}catch(c){b.g.i=void 0,u(b.g,c)}b.g.s=!1;if(b.g.o){a=b.g.o;b.g.o=null;if(a.la)throw a.ia;return{value:a.return,done:!0}}return{value:void 0,done:!0}}
f.m.K=function(b){this.next=function(a){q(b.g);b.g.h?a=x(b,b.g.h.next,a,b.g.B):(b.g.B(a),a=y(b));return a};this.throw=function(a){q(b.g);b.g.h?a=x(b,b.g.h["throw"],a,b.g.B):(u(b.g,a),a=y(b));return a};this.return=function(a){return aa(b,a)};this[Symbol.iterator]=function(){return this}};f.m.wa=function(b,a){a=new f.m.K(new f.m.J(a));f.setPrototypeOf&&b.prototype&&f.setPrototypeOf(a,b.prototype);return a};
f.N=function(b){function a(d){return b.next(d)}function c(d){return b.throw(d)}return new Promise(function(d,e){function m(k){k.done?d(k.value):Promise.resolve(k.value).then(a,c).then(m,e)}m(b.next())})};f.ua=function(b){return f.N(b())};f.A=function(b){return f.N(new f.m.K(new f.m.J(b)))};f.Aa=function(){};
f.j("Symbol",function(b){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,m){this.g=e;f.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})}if(b)return b;c.prototype.toString=function(){return this.g};var d=0;return a},"es6");
f.j("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<a.length;c++){var d=f.global[a[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&f.defineProperty(d.prototype,b,{configurable:!0,writable:!0,value:function(){return f.na(f.M(this))}})}return b},"es6");
f.na=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};
f.j("Promise",function(b){function a(k){this.h=0;this.i=void 0;this.g=[];this.D=!1;var l=this.o();try{k(l.resolve,l.reject)}catch(n){l.reject(n)}}function c(){this.g=null}function d(k){return k instanceof a?k:new a(function(l){l(k)})}if(b&&(!(f.aa||f.ba&&"undefined"===typeof f.global.PromiseRejectionEvent)||!f.global.Promise||-1===f.global.Promise.toString().indexOf("[native code]")))return b;c.prototype.h=function(k){if(null==this.g){this.g=[];var l=this;this.i(function(){l.s()})}this.g.push(k)};
var e=f.global.setTimeout;c.prototype.i=function(k){e(k,0)};c.prototype.s=function(){for(;this.g&&this.g.length;){var k=this.g;this.g=[];for(var l=0;l<k.length;++l){var n=k[l];k[l]=null;try{n()}catch(p){this.o(p)}}}this.g=null};c.prototype.o=function(k){this.i(function(){throw k;})};a.prototype.o=function(){function k(p){return function(r){n||(n=!0,p.call(l,r))}}var l=this,n=!1;return{resolve:k(this.Y),reject:k(this.s)}};a.prototype.Y=function(k){if(k===this)this.s(new TypeError("A Promise cannot resolve to itself"));
else if(k instanceof a)this.ca(k);else{a:switch(typeof k){case "object":var l=null!=k;break a;case "function":l=!0;break a;default:l=!1}l?this.X(k):this.B(k)}};a.prototype.X=function(k){var l=void 0;try{l=k.then}catch(n){this.s(n);return}"function"==typeof l?this.da(l,k):this.B(k)};a.prototype.s=function(k){this.S(2,k)};a.prototype.B=function(k){this.S(1,k)};a.prototype.S=function(k,l){if(0!=this.h)throw Error("Cannot settle("+k+", "+l+"): Promise already settled in state"+this.h);this.h=k;this.i=
l;2===this.h&&this.Z();this.U()};a.prototype.Z=function(){var k=this;e(function(){if(k.W()){var l=f.global.console;"undefined"!==typeof l&&l.error(k.i)}},1)};a.prototype.W=function(){if(this.D)return!1;var k=f.global.CustomEvent,l=f.global.Event,n=f.global.dispatchEvent;if("undefined"===typeof n)return!0;"function"===typeof k?k=new k("unhandledrejection",{cancelable:!0}):"function"===typeof l?k=new l("unhandledrejection",{cancelable:!0}):(k=f.global.document.createEvent("CustomEvent"),k.initCustomEvent("unhandledrejection",
!1,!0,k));k.promise=this;k.reason=this.i;return n(k)};a.prototype.U=function(){if(null!=this.g){for(var k=0;k<this.g.length;++k)m.h(this.g[k]);this.g=null}};var m=new c;a.prototype.ca=function(k){var l=this.o();k.G(l.resolve,l.reject)};a.prototype.da=function(k,l){var n=this.o();try{k.call(l,n.resolve,n.reject)}catch(p){n.reject(p)}};a.prototype.then=function(k,l){function n(t,w){return"function"==typeof t?function(E){try{p(t(E))}catch(F){r(F)}}:w}var p,r,G=new a(function(t,w){p=t;r=w});this.G(n(k,
p),n(l,r));return G};a.prototype.catch=function(k){return this.then(void 0,k)};a.prototype.G=function(k,l){function n(){switch(p.h){case 1:k(p.i);break;case 2:l(p.i);break;default:throw Error("Unexpected state: "+p.h);}}var p=this;null==this.g?m.h(n):this.g.push(n);this.D=!0};a.resolve=d;a.reject=function(k){return new a(function(l,n){n(k)})};a.race=function(k){return new a(function(l,n){for(var p=f.C(k),r=p.next();!r.done;r=p.next())d(r.value).G(l,n)})};a.all=function(k){var l=f.C(k),n=l.next();
return n.done?d([]):new a(function(p,r){function G(E){return function(F){t[E]=F;w--;0==w&&p(t)}}var t=[],w=0;do t.push(void 0),w++,d(n.value).G(G(t.length-1),r),n=l.next();while(!n.done)})};return a},"es6");f.ma=function(b,a){b instanceof String&&(b+="");var c=0,d=!1,e={next:function(){if(!d&&c<b.length){var m=c++;return{value:a(m,b[m]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};
f.j("Array.prototype.keys",function(b){return b?b:function(){return f.ma(this,function(a){return a})}},"es6");f.O=function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var m=b[e];if(a.call(c,m,e,b))return{P:e,T:m}}return{P:-1,T:void 0}};f.j("Array.prototype.find",function(b){return b?b:function(a,c){return f.O(this,a,c).T}},"es6");
f.j("Array.prototype.fill",function(b){return b?b:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6");f.u=function(b){return b?b:Array.prototype.fill};f.j("Int8Array.prototype.fill",f.u,"es6");f.j("Uint8Array.prototype.fill",f.u,"es6");f.j("Uint8ClampedArray.prototype.fill",f.u,"es6");f.j("Int16Array.prototype.fill",f.u,"es6");f.j("Uint16Array.prototype.fill",f.u,"es6");
f.j("Int32Array.prototype.fill",f.u,"es6");f.j("Uint32Array.prototype.fill",f.u,"es6");f.j("Float32Array.prototype.fill",f.u,"es6");f.j("Float64Array.prototype.fill",f.u,"es6");f.j("Array.prototype.findIndex",function(b){return b?b:function(a,c){return f.O(this,a,c).P}},"es6");var z=!1,A=!1,B=!1,C=2,D=!1,H=!1,I=!1,J=!1,K=!1,L=!1,M=!1,N,O=!0,P=0,Q="",R="",ba=!!window.g,S=void 0;function T(){this.g={}}
T.prototype.register=function(b){var a=void 0;Array.isArray(b)?5<=Math.max.apply(null,b.map(function(c){return String(c).length}))&&6<=b.length||80<=b.join(",").length||b.some(function(c){return"object"==typeof c})||0==b.length?a=b:(a=U(),this.g['"'+a+'"']=b):"string"==typeof b?(a=U(),this.g['"'+a+'"']=b.replace(/\\[^n\\]|\\$/g,"")):a=b;return a};
T.prototype.replaceAll=function(b,a){a=void 0===a?!1:a;for(var c=Object.keys(this.g),d={},e=0;e<c.length;d={v:d.v},e++){var m=c[e];d.v=this.g[m];b=b.replace(m,function(k){return function(){if(Array.isArray(k.v))return a?JSON.stringify(k.v):JSON.stringify(k.v).split(/^\[/).join("[ ").split(/,/).join(", ").split(/\]$/).join(" ]");if("string"==typeof k.v)return'"'+k.v+'"'}}(d))}return b};
function ca(){this.g=[];this.h=[];$("ul.issue-list li").remove();$(".stat-warning,.stat-error").removeClass("stat-warning stat-error")}
function da(b){$("span.issue-error-num").text("\u30a8\u30e9\u30fc:"+b.g.length);$("span.issue-warning-num").text("\u8b66\u544a:"+b.h.length);0>=b.h.length&&0>=b.g.length?$("ul.issue-list").append("<li>\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093</li>"):(b.g.forEach(function(a){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/error.svg",alt:"",width:"19px",height:"19px"}),$("<p>").text(a[0])));a[1].addClass("stat-error")}),b.h.forEach(function(a){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/warning.svg",
alt:"",width:"19px",height:"19px"}),$("<p>").text(a[0])));a[1].addClass("stat-warning")}))}function V(b,a,c){b.h.push([a,c])}function W(b,a,c){b.g.push([a,c])}function U(){for(var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),a=0,c=b.length;a<c;a++)switch(b[a]){case "x":b[a]=Math.floor(16*Math.random()).toString(16);break;case "y":b[a]=(Math.floor(4*Math.random())+8).toString(16)}return b.join("")}
function X(b){return null===(void 0===b?"":b).match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?!1:!0}$(window).bind("beforeunload",function(){if(z)return"\u3053\u306e\u30da\u30fc\u30b8\u3092\u96e2\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"});$(document).on("change keyup click","input,textarea,select",function(b){Y();z=$(b.target).is("[ui]")?z:!0;$("#edit_state").toggleClass("changed",z)});$(window).on("load",function(){Y()});
$("textarea").on("keydown",function(b){if("Enter"==b.key)return!1});$(".separator").on("mousedown",function(){D?D&&(D=!1):D=!0});$(document).on("mouseup",function(){D=!1;$("html").css("cursor","");var b=$(".separator");b.prev().removeClass("drag-lock");b.next().removeClass("drag-lock")});
$(document).on("mousemove",function(b){if(D){$("html").css("cursor","e-resize");var a=$(".separator");a.prev().addClass("drag-lock");a.next().addClass("drag-lock");var c=$("html").width()-2;b=c-b.clientX;c-=b;a.next().css("flex-basis",b);a.prev().css("flex-basis",c)}});$(window).resize(function(){$("div.preview").css("display","");$("div.editor").css("flex-basis","");$("div.data_check").css("flex-basis","");P=5;fa()});
$(document).on("click",function(b){$("details.open-more-info").attr("open")&&($(b.target).is("details.open-more-info>summary")&&(b.preventDefault(),b.stopPropagation()),$("details.open-more-info").prop("open",!1))});$("details.open-more-info").on("mouseenter mouseleave",function(b){$("details.open-more-info").prop("open",$(b.target).is(":hover"))});$("#show_help").on("click",function(){$("#page-help").fadeIn("fast");fa()});$("#page-help").on("click",function(){fa()});
function fa(){switch(P){case 1:$("#help-content-1").fadeOut("fast");$("#help-content_2").slideToggle("fast");P++;break;case 2:$("#help-content_2").slideToggle("fast");$("#help-content-3").fadeIn("fast");P++;break;case 3:$("#help-content-3").fadeOut("fast");$("#page-help").hide();P=0;break;case 5:$("#help-content-1").hide();$("#help-content_2").hide();$("#help-content-3").hide();$("#page-help").hide();P=0;break;default:$("#help-content-1").fadeIn("fast"),P++}}
$("div#show-preview").on("click",function(){var b=$("div#show-preview");$("div.preview").slideToggle();b.toggleClass("active",!b.hasClass("active"))});$("#open-about").on("click",function(){$("div.page-about").removeClass("about-hide")});$("#close-about-btn").on("click",function(){$("div.page-about").addClass("about-hide")});$(".page-about").on("click",function(b){$(b.target).is(".page-about")&&$("div.page-about").addClass("about-hide")});
$(document).on("click",".tab-children:not(.selected)>input",function(){var b=$(this).attr("class");if("modules"==b||H&&"dependencies"==b||K&&"subpacks"==b){var a=$(this).parent(),c=a.index();$("."+b+".tab-children").removeClass("selected");a.addClass("selected");$("."+b+".tab-content-list>div").removeClass("selected-tab-content").eq(c).addClass("selected-tab-content")}});
$("#modules_add,#dependencies_add,#subpacks_add").on("click",function(){($(this).hasClass("modules")||K&&$(this).hasClass("subpacks")||H&&$(this).hasClass("dependencies"))&&Z($(this).attr("class"));Y()});
function Z(b){b=void 0===b?"":b;var a=$("."+b+".tab-body"),c=a.children("label").length;a.append($("<label>").addClass(b+" tab-children invisible_Control").append($("<input>").attr("type","button").addClass(b),$("<div>").addClass("tab-number").text(c),$("<div>").addClass("tab-underBar")));a.children("li:last-child").hide().show(150);b=$("."+b+".tab-content-list");a=b.children("div:first-child").clone().removeClass("selected-tab-content");Array.prototype.forEach.call(a.find('input:not([type="button"])'),
function(d){d.value=d.defaultValue});Array.prototype.forEach.call(a.find("textarea"),function(d){d.value=d.defaultValue});b.append(a)}
$("#modules-delete,#dependencies-delete,#subpacks-delete").on("click",function(b){var a="."+$(this).attr("class");if($(this).hasClass("modules")||K&&$(this).hasClass("subpacks")||H&&$(this).hasClass("dependencies")){var c=a;c=void 0===c?"":c;a=$(c+".tab-children");if(!(""==c||1>=a.length)){$(c+".tab-children.selected").remove();$(c+".tab-content-list>.selected-tab-content").remove();a=$(c+".tab-children");c=$(c+".tab-content-list>div");for(var d=0,e=0;e<a.length;e++){var m=a.eq(e),k=c.eq(e);0==e&&
(m.addClass("selected"),k.addClass("selected-tab-content"));m.children("div.tab-number").text(d);d++}}}Y();b.stopPropagation()});$("#author-add").on("click",function(){ha();Y()});function ha(b){b=void 0===b?"":b;$("div.authors_list").append($("<label>").addClass("author_name").append($("<div>").addClass("author_num").text($(".author_name").length),$("<input>").attr({type:"text",va:"metadata_author",value:b})))}
$("#author-delete").on("click",function(){$("div.authors_list>.author_name:last-child").remove();Y()});$("#issue-control").on("click",function(){var b=$("div.issue-status-label svg");b.hasClass("close")?b.attr("class","open"):b.attr("class","close");$("div.issue_content").slideToggle()});
if(navigator.share)$("#page-share").addClass("supported").on("click",function(){return f.A(function(b){return v(b,navigator.share({title:"MCBE Manifest Generator",text:"MCBE Manifest Generator -manifest.json\u3092\u7c21\u5358\u306b\u4f5c\u6210\u30fb\u7de8\u96c6-",url:"https://toka7290.github.io/MCAddonSetupManager/"}),0)})});$(window).on("keydown",function(b){if(!b.defaultPrevented&&b.ctrlKey){switch(b.key.toLowerCase()){case "s":b.shiftKey?ia(!0):ia()}b.stopPropagation();b.preventDefault()}});
ba?(console.log("File System Access APIs"),$(".import_button.file_system_access").removeClass("disabled"),$(".import_button.file_reader").addClass("disabled"),$(".preview_control_child.save").removeClass("disabled"),$("#input_file_fsa").on("click",function(){var b,a,c;return f.A(function(d){if(1==d.g)return b=f,a=b.C,v(d,window.g({multiple:!1,ja:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),2);c=a.call(b,d.i);S=c.next().value;ja();d.g=0})}),$("#control_save").on("click",
function(){return f.A(function(b){ia();b.g=0})}),$(window).on("focus",function(){!z&&S&&ja()})):($(".import_button.file_system_access").addClass("disabled"),$(".import_button.file_reader").removeClass("disabled"),$(".preview_control_child.save").addClass("disabled"),$("#input-file").on("change",function(){ka()}));function ja(){var b,a;f.A(function(c){if(1==c.g)return S?v(c,S.getFile(),2):c.return();if(3!=c.g)return b=c.i,v(c,b.text(),3);a=c.i;la(a);c.g=0})}
function ia(b){var a=R;b=void 0===b?!1:b;var c,d;f.A(function(e){switch(e.g){case 1:b||(c=S);if(c){e.g=2;break}return v(e,window.h({ja:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),3);case 3:c=e.i;case 2:return v(e,c.za(),4);case 4:return d=e.i,v(e,d.write(a),5);case 5:return v(e,d.close(),6);case 6:z=!1,$("#edit_state").toggleClass("changed",z),b||(S=c),e.g=0}})}
function ka(){var b=$("#input-file").prop("files")[0],a=new FileReader;a.onload=function(){la(a.result)};try{a.readAsText(b)}catch(c){window.alert("\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fmanifest.json\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002manifest.json\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),console.error("error:"+c)}}$(document).on("dragenter dragover",function(b){b.stopPropagation();b.preventDefault();$(".file-drop-zone").removeClass("hide")});
$(".file-drop-zone-pick").on("dragleave",function(b){b.stopPropagation();b.preventDefault();$(".file-drop-zone").addClass("hide")});$(document).on("drop",function(b){z=!0;$(".file-drop-zone").addClass("hide");var a=b;b.originalEvent&&(a=b.originalEvent);a.stopPropagation();a.preventDefault();$("#input-file").prop("files",a.dataTransfer.files);ka()});
navigator.clipboard?($(".preview_control_child.copy").removeClass("disabled"),$("#control_copy").on("click",function(){return f.A(function(b){if(1==b.g)return console.log("Clipboard"),v(b,navigator.clipboard.writeText(R),2);$("p#control_copy_text").text("Copied");setTimeout(function(){$("p#control_copy_text").text("Copy")},1E3);b.g=0})})):$(".preview_control_child.copy").addClass("disabled");
$("#control_download").on("click",function(){$("<a></a>",{href:window.URL.createObjectURL(new Blob([R])),download:"manifest.json",target:"_blank"})[0].click()});$("#control_simple").on("click",function(b){B=b.target.checked;oa()});
function oa(){$(".editor_element_group.editor_normal_mode").toggleClass("hide",B);$(".editor_element_group.editor_simple_mode").toggleClass("hide",!B);var b=$("#simple_pack_name"),a=b.val(),c=$("#simple_description"),d=c.val(),e=$("#header_pack_name").val(),m=$("#header_description").val();if(B){""==a&&""!=e&&b.val(e);""==d&&""!=m&&c.val(m);Q=$(".modules.tab-content-list > div:nth-child(1) #modules_description").val();b="behavior";switch($(".modules.tab-content-list > div:nth-child(1) #modules_type").val()){case "resources":b=
"texture";break;case "world_template":b="world";break;case "skin_pack":b="skin"}$('input[type="radio"][name="simple_type_child"][value="'+b+'"]').prop("checked",!0)}else b.val(""),c.val("")}$("#control_compact").on("click",function(b){A=b.target.checked});$("#format_version").on("change",function(){C=Number($("#format_version").val())});$(document).on("click",'input[type="button"].generate_uuid',function(){$(this).parents("div.type-uuid").find('input[type="text"]').val(U);Y()});
function Y(){if(B){var b=$("#simple_pack_name").val(),a=$("#simple_description").val(),c=$("#header_pack_name"),d=$("#header_description");c.val(b);d.val(a);a=$("#header_uuid");""==a.val()&&(a.val(U()),z=!0);a=$(".modules.tab-children").length;for(c=0;c<a;c++){d=$(".modules.tab-content-list > div:nth-child("+(c+1)+")");var e=d.find("#modules_type"),m="data",k="behavior";switch($('input[type="radio"][name="simple_type_child"]:checked').val()){case "behavior":m="data";k="behavior";break;case "texture":k=
m="resources";break;case "world":m="world_template";k="world template";break;case "skin":m="skin_pack",k="skin pack"}e.val()!=m&&(Q="");e.val(m);e=d.find("#modules_description");""==Q&&(e.val(b.replace(/\u00a7.|\\n/g,"")+" "+k+" module"),z=!0);d=d.find("#modules_uuid");""==d.val()&&(d.val(U()),z=!0)}}pa();qa();ra();O&&sa();ta();R=ua();$("pre.language-json code.language-json").remove();$("pre.language-json").append($("<code>").addClass("language-json").text(R));b=$("#header_pack_name").val().toString();
if(""==b)b="\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093";else if(null!=b.match(/\\/g)){b=b.split("\\\\");a="";for(var l in b)if(c=b[l].indexOf("\\n"),1<=l&&(a+="\\\\"),-1!=c){a+=b[l].slice(0,b[l].indexOf("\\n")-b[l].length)+"\u2026";break}else a+=""+b[l];b=a}$("#card-title").html(MinecraftText.toHTML(b));c=$("#header_description").val().toString();if(""==c)c="\u00a7c\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e";else if(null!=c.match(/\\/g)){b=l=0;a="";c=c.split("\\\\");for(var n in c){do if(b++,
l=c[n].indexOf("\\n",l+1),-1==l)break;while(3>b);1<=n&&(a+="\\\\");if(-1!=l){a+=c[n].slice(0,l+1-c[n].length)+"\u2026";break}else a+=""+c[n]}c=a}$("#card-description").html(MinecraftText.toHTML(c));MinecraftText.refeashObfuscate();Prism.highlightAll()}function ta(){O=!1;"number"===typeof N&&window.clearTimeout(N);N=window.setTimeout(function(){O=!0;sa()},500)}
function pa(){H=$("#dependencies_enable").is(":checked")||$("#dependencies_enable").is(":indeterminate");I=$("#capabilities_enable").is(":checked")||$("#capabilities_enable").is(":indeterminate");J=$("#metadata_enable").is(":checked")||$("#metadata_enable").is(":indeterminate");K=$("#subpacks_enable").is(":checked")||$("#subpacks_enable").is(":indeterminate");var b=$(".dependencies.tab-content-list div.value-element");H?(b.find("div.value-label").removeClass("disabled"),b.find("input").prop("disabled",
!1),""==$("#dependencies_uuid").val()?$("#dependencies_enable").prop("indeterminate",!0):$("#dependencies_enable").prop("indeterminate",!1)):(b.find("div.value-label").addClass("disabled"),b.find("input").prop("disabled",!0));b=$(".capabilities_list .value-element");I?(b.removeClass("disabled"),b.find("input").prop("disabled",!1),$("div.capabilities_list div input").is(":checked")?$("#capabilities_enable").prop("indeterminate",!1):$("#capabilities_enable").prop("indeterminate",!0)):(b.addClass("disabled"),
b.find("input").prop("disabled",!0));b=$(".metadata_list .value-element");J?(b.removeClass("disabled"),b.find("input").prop("disabled",!1),[0<$(".metadata_author").length?""!=$(".metadata_author").val():!1,""!=$("#metadata_url").val(),""!=$("#metadata_license").val()].some(function(a){return a})?$("#metadata_enable").prop("indeterminate",!1):$("#metadata_enable").prop("indeterminate",!0)):(b.addClass("disabled"),b.find("input").prop("disabled",!0));b=$(".subpacks.tab-content-list div.value-element");
K?(b.find("div.value-label").removeClass("disabled"),b.find("input").prop("disabled",!1),""==$("#subpacks_folder_name").val()&&""==$("#subpacks_name").val()?$("#subpacks_enable").prop("indeterminate",!0):$("#subpacks_enable").prop("indeterminate",!1)):(b.find("div.value-label").addClass("disabled"),b.find("input").prop("disabled",!0))}
function qa(){[".dependencies",".subpacks"].forEach(function(b,a){va(b,[[H,K][a],[H,K][a],[H,K][a]&&1<$(b+".tab-children").length])});1<$(".author_name").length?$(".remove_author").removeClass("disabled").find("input").prop("disabled",!1):$(".remove_author").addClass("disabled").find("input").prop("disabled",!0)}
function va(b,a){b=void 0===b?"":b;a=void 0===a?[0,0,0]:a;[".tab-body",".add-tab",".remove-tab"].forEach(function(c,d){c=$(b+c);1==a[d]?c.removeClass("disabled").find("input").prop("disabled",!1):0==a[d]&&c.addClass("disabled").find("input").prop("disabled",!0)})}
function ra(){var b=Array.prototype.map.call($(".modules.tab-content-list > div #modules_type"),function(l){return l.value});L=b.some(function(l){return"world_template"==l});M=b.some(function(l){return"skin_pack"==l});$("#header_min_engine_version").toggleClass("disabled",L||M);$("#header_min_engine_version_input input").prop("disabled",L||M);$("#header_base_game_version").toggleClass("disabled",2<=C&&!L);$("#header_base_game_version_input input").prop("disabled",2<=C&&!L);$("#header_lock_template_options").prop("disabled",
!L).parent().toggleClass("disabled",!L);$("#header_pack_scope_label").toggleClass("disabled",L||M);$("#header_pack_scope").prop("disabled",L||M);var a=[!1,!1,!1,!1,!1,!1,!1],c={},d=(c.data=0,c.resources=1,c.client_data=2,c.javascript=3,c["interface"]=4,c.world_template=5,c.skin_pack=6,c);c=L||M||b.some(function(l){return"resources"==l});for(var e={l:0};e.l<b.length;e={l:e.l},e.l++){a.forEach(function(l){return function(n,p){$(".modules.tab-content-list > div:nth-child("+(l.l+1)+") #modules_type option:nth-child("+
(p+1)+")").prop("disabled",n)}}(e));if(a[d[b[e.l]]]){var m=a.indexOf(!1),k=$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_type").prop("selectedIndex",m);a[m]=!0;b[e.l]=k.val()}a[d[b[e.l]]]=!0;e.l||["resources","world_template","skin_pack"].forEach(function(l){a[d[l]]=!0});c&&a.fill(!0);$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_entry_label").toggleClass("disabled","javascript"!=b[e.l]);$(".modules.tab-content-list > div:nth-child("+(e.l+1)+") #modules_entry").prop("disabled",
"javascript"!=b[e.l])}c?va(".modules",[!1,0,0]):va(".modules",[!0,a.some(function(l){return 0==l}),b.length-1])}
function sa(){var b=new ca,a=$("#header_min_engine_version_major"),c=a.val();switch(C){case 1:(1<c||13<=Number($("#header_min_engine_version_minor").val()))&&V(b,"[Header:min engine version] \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f31\u3067\u306f1.13\u3088\u308a\u4f4e\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f32\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002",a.parent().find("input"));
break;case 2:1>=c&&13>Number($("#header_min_engine_version_minor").val())&&W(b,"[Header:min engine version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",a.parent().find("input")),1>=Number($("#header_base_game_version_major").val())&&13>Number($("#header_base_game_version_minor").val())&&W(b,"[Header:base game version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",$("#header_base_game_version_major").parent().find("input"))}a=
$("#header_pack_name");c=a.val();""==c?V(b,'[Header:name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002\u540d\u524d\u304c\u7a7a\u306e\u5834\u5408\u3001"\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',a):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(b,'[Header:name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);a=$("#header_description");c=a.val();""==c?V(b,'[Header:description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u8aac\u660e\u304c\u7a7a\u306e\u5834\u5408\u3001"\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',a):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(b,'[Header:description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);a=$("#header_uuid");c=a.val();""==c?W(b,"[Header:uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a):X(c)||W(b,"[Header:uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",a);for(var d=$(".modules.tab-children").length,e=0;e<d;e++){var m=e+1;a=$(".modules.tab-content-list > div:nth-child("+m+") #modules_type");var k=a.val();null==k&&W(b,"[Modules:"+
e+":type] type\u304cnull\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002type\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a);a=$(".modules.tab-content-list > div:nth-child("+m+") #modules_description");c=a.val();""==c?V(b,"[Modules:"+e+":description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002",a):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(b,"[Modules:"+e+':description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);a=$(".modules.tab-content-list > div:nth-child("+m+") #modules_uuid");c=a.val();""==c?W(b,"[Modules:"+e+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a):X(c)||W(b,"[Modules:"+e+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",a);"javascript"==k&&(a=$(".modules.tab-content-list > div:nth-child("+m+") #modules_entry"),c=a.val(),""==c?W(b,"[Modules:"+
e+":entry] \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093",a):c.match(/\.js$/)||W(b,"[Modules:"+e+":entry] \u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f .js \u306e\u62e1\u5f35\u5b50\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002 \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u306fJavaScript\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u305b\u3093\u3002",a))}if(H)for(d=
$(".dependencies.tab-children").length,e=0;e<d;e++)a=$("div.dependencies.tab-content-list > div:nth-child("+(e+1)+") #dependencies_uuid"),c=a.val(),""==c?W(b,"[Dependencies:"+e+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a):X(c)||W(b,"[Dependencies:"+e+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",a);I&&($("#experimental_custom_ui").is(":checked")||
$("#chemistry").is(":checked")||$("#raytracing").is(":checked")||V(b,"[Capabilities] \u4e00\u3064\u3082\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",$(".capabilities_list>input")));if(J){if(d=$("label.author_name").length)for(e=0;e<d;e++)a=$("input.metadata_author").eq(e),c=a.val(),""==c?V(b,"[Metadata:author:"+e+"] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",a):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(b,"[Metadata:author:"+e+'] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u6d88\u53bb\u3059\u308b\u304b\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3057\u3066\u518d\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);else V(b,"[Metadata:author] \u540d\u524d\u304c\u4e00\u3064\u3082\u3042\u308a\u307e\u305b\u3093\u3002",$("div.add_author"));a=$("#metadata_url");c=a.val();""==c?V(b,"[Metadata:url] URL\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",a):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(b,'[Metadata:url] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);a=$("#metadata_license");c=a.val();""==c?V(b,"[Metadata:license] \u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",a):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(b,'[Metadata:license] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',a)}if(K)for(d=$(".subpacks.tab-children").length,
e=0;e<d;e++)c=$("div.subpacks.tab-content-list > div:nth-child("+(e+1)+")"),a=c.find("#subpacks_folder_name"),""==a.val()&&W(b,"[Subpacks:"+e+":folder_name] \u30d5\u30a9\u30eb\u30c0\u30fc\u540d\u304c\u7a7a\u3067\u3059\u3002",a),a=c.find("#subpacks_name"),c=a.val().toString(),""==c?W(b,"[Subpacks:"+e+":name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",a):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(b,"[Subpacks:"+e+':name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
a);da(b)}
function wa(b,a){b=void 0===b?"":b;a=void 0===a?"":a;var c="\u6709\u52b9\u306ajson\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002";if(""==b||""==a)return c;a=a.split(" ");var d=a.findIndex(function(l){return"line"==l}),e=a.findIndex(function(l){return"position"==l});if(-1!=d){var m=parseInt(a[d+1],10);a=function(l){for(var n=0,p=1;p<l;p++)n=b.indexOf("\n",n)+1;return n};var k=a(m-1);a=a(m+1)-1;c+="\n"+(m-1)+"~"+m+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+b.substring(k,
a)}else-1!=e&&(a=a[e+1],d=b.lastIndexOf("\n",b.lastIndexOf("\n",a)-1)+1,e=null!=(k=null==(m=b.substr(0,d).match(/\n/g))?void 0:m.length)?k:1,c+="\n"+e+"~"+(e+1)+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+b.substring(d,b.indexOf("\n",a-1)));return c}
function la(b){b=void 0===b?"":b;var a={};try{a=JSON.parse(b)}catch(ea){if(b.match(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g)){window.alert(wa(b,ea.message)+"\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u9664\u53bb\u3057\u3066\u518d\u5ea6\u8a66\u307f\u307e\u3059\u3002\n");b=b.replace(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g,"");try{a=JSON.parse(b)}catch(ma){window.alert(wa(b,ma.message));console.error("error:"+ma);return}}else{window.alert(wa(b,ea.message));console.error("error:"+
ea);return}}if(null!=a.format_version)$("#format_version").val(a.format_version);else if(null!=a.header.modules){null!=a.header.pack_id&&$("#header_uuid").val(a.header.pack_id);null!=a.header.name&&$("#header_pack_name").val(a.header.name);if(null!=a.header.packs_version){var c=a.header.packs_version.split(".");null!=c[0]&&$("#header_version_major").val(c[0]);null!=c[1]&&$("#header_version_minor").val(c[1]);null!=c[2]&&$("#header_version_patch").val(c[2])}null!=a.header.description&&$("#header_description").val(a.header.description);
if(null!=a.header.modules)for(c=0;c<a.header.modules.length;c++){var d=c+1;0<c&&Z("modules");null!=a.header.modules[c].type&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_type").val(a.header.modules[c].type);null!=a.header.modules[c].description&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_description").val(a.header.modules[c].description);if(null!=a.header.modules[c].version){var e=a.header.modules[c].version.split(".");null!=e[0]&&$(".modules.tab-content-list > div:nth-child("+
d+") #modules_version_major").val(e[0]);null!=e[1]&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_version_minor").val(e[1]);null!=e[2]&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_version_patch").val(e[2])}null!=a.header.modules[c].uuid&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_uuid").val(a.header.modules[c].uuid)}if(null!=a.header.dependencies)for($("#dependencies_enable").prop("checked",!0),c=0;c<a.header.dependencies.length;c++)d=c+1,0<c&&Z("dependencies"),
d=$("div.dependencies.tab-content-list > div:nth-child("+d+")"),null!=a.header.dependencies[c].uuid&&d.find("#dependencies_uuid").val(a.header.dependencies[c].uuid),null!=a.header.dependencies[c].version&&(e=a.header.dependencies[c].version.split("."),null!=e[0]&&d.find("#dependencies_version_major").val(e[0]),null!=e[1]&&d.find("#dependencies_version_minor").val(e[1]),null!=e[2]&&d.find("#dependencies_version_patch").val(e[2]));window.alert("\u53e4\u3044\u5f62\u5f0f(pack_manifest.json)\u304b\u3089\u5909\u63db\u3057\u307e\u3059\u3002");
Y();return}$("#header_pack_name").val(null!=(d=null==(c=a.header)?void 0:c.name)?d:"");var m;$("#header_description").val(null!=(m=null==(e=a.header)?void 0:e.description)?m:"");var k,l,n;$("#header_version_major").val(null!=(n=null==(k=a.header)?void 0:null==(l=k.version)?void 0:l[0])?n:1);var p,r,G;$("#header_version_minor").val(null!=(G=null==(p=a.header)?void 0:null==(r=p.version)?void 0:r[1])?G:0);var t,w,E;$("#header_version_patch").val(null!=(E=null==(t=a.header)?void 0:null==(w=t.version)?
void 0:w[2])?E:0);null!=a.header.min_engine_version&&(null!=a.header.min_engine_version[0]&&$("#header_min_engine_version_major").val(a.header.min_engine_version[0]),null!=a.header.min_engine_version[1]&&$("#header_min_engine_version_minor").val(a.header.min_engine_version[1]),null!=a.header.min_engine_version[2]&&$("#header_min_engine_version_patch").val(a.header.min_engine_version[2]));null!=a.header.uuid&&$("#header_uuid").val(a.header.uuid);null!=a.header.platform_locked&&a.header.platform_locked&&
$("#header_platform_locked").prop("checked",!0);null!=a.header.base_game_version&&(null!=a.header.base_game_version[0]&&$("#header_base_game_version_major").val(a.header.base_game_version[0]),null!=a.header.base_game_version[1]&&$("#header_base_game_version_minor").val(a.header.base_game_version[1]),null!=a.header.base_game_version[2]&&$("#header_base_game_version_patch").val(a.header.base_game_version[2]));var F;$("#header_lock_template_options").prop("checked",null!=(F=a.header.lock_template_options)?
F:!1);var na;$("#header_pack_scope").val(null!=(na=a.header.pack_scope)?na:"none");if(null!=a.modules)for(c=0;c<a.modules.length;c++)d=c+1,0<c&&Z("modules"),null!=a.modules[c].type&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_type").val(a.modules[c].type),null!=a.modules[c].description&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_description").val(a.modules[c].description),null!=a.modules[c].version&&(null!=a.modules[c].version[0]&&$(".modules.tab-content-list > div:nth-child("+
d+") #modules_version_major").val(a.modules[c].version[0]),null!=a.modules[c].version[1]&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_version_minor").val(a.modules[c].version[1]),null!=a.modules[c].version[2]&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_version_patch").val(a.modules[c].version[2])),null!=a.modules[c].uuid&&$(".modules.tab-content-list > div:nth-child("+d+") #modules_uuid").val(a.modules[c].uuid),e=void 0,$(".modules.tab-content-list > div:nth-child("+
d+") #modules_entry").val(null==(e=a.modules[c])?void 0:e.entry);if(null!=a.dependencies)for($("#dependencies_enable").prop("checked",!0),c=0;c<a.dependencies.length;c++)d=c+1,0<c&&Z("dependencies"),d=$("div.dependencies.tab-content-list > div:nth-child("+d+")"),null!=a.dependencies[c].uuid&&d.find("#dependencies_uuid").val(a.dependencies[c].uuid),null!=a.dependencies[c].version&&(null!=a.dependencies[c].version[0]&&d.find("#dependencies_version_major").val(a.dependencies[c].version[0]),null!=a.dependencies[c].version[1]&&
d.find("#dependencies_version_minor").val(a.dependencies[c].version[1]),null!=a.dependencies[c].version[2]&&d.find("#dependencies_version_patch").val(a.dependencies[c].version[2]));if(null!=a.capabilities)for($("#capabilities_enable").prop("checked",!0),c=f.C(a.capabilities),d=c.next();!d.done;d=c.next())switch(d.value){case "experimental_custom_ui":$("#experimental_custom_ui").prop("checked",!0);break;case "chemistry":$("#chemistry").prop("checked",!0);break;case "raytracing":$("#raytracing").prop("checked",
!0)}if(null!=a.metadata){$("#metadata_enable").prop("checked",!0);if(null!=a.metadata.authors)for(c=f.C(a.metadata.authors),d=c.next();!d.done;d=c.next())ha(d.value);null!=a.metadata.url&&$("#metadata_url").val(a.metadata.url);null!=a.metadata.license&&$("#metadata_license").val(a.metadata.license)}if(null!=a.subpacks)for($("#subpacks_enable").prop("checked",!0),c=0;c<a.subpacks.length;c++)d=c+1,0<c&&Z("subpacks"),d=$("div.subpacks.tab-content-list > div:nth-child("+d+")"),null!=a.subpacks[c].folder_name&&
d.find("#subpacks_folder_name").val(a.subpacks[c].folder_name),null!=a.subpacks[c].name&&d.find("#subpacks_name").val(a.subpacks[c].name),null!=a.subpacks[c].memory_tier&&d.find("#subpacks_memory_tier").val(a.subpacks[c].memory_tier);oa();Y()}
function ua(){var b=new T,a={};a.format_version=C;a.header={};a.header.name=b.register($("#header_pack_name").val());a.header.description=b.register($("#header_description").val());a.header.version=b.register([Number($("#header_version_major").val()),Number($("#header_version_minor").val()),Number($("#header_version_patch").val())]);a.header.uuid=$("#header_uuid").val();a.header.platform_locked=$("#header_platform_locked").is(":checked")?!0:void 0;L?(2<=C&&(a.header.base_game_version=b.register([Number($("#header_base_game_version_major").val()),
Number($("#header_base_game_version_minor").val()),Number($("#header_base_game_version_patch").val())])),a.header.lock_template_options=$("#header_lock_template_options").is(":checked")):M||(a.header.min_engine_version=b.register([Number($("#header_min_engine_version_major").val()),Number($("#header_min_engine_version_minor").val()),Number($("#header_min_engine_version_patch").val())]),a.header.pack_scope="none"!=$("#header_pack_scope").val()?$("#header_pack_scope").val():void 0);a.modules=[];for(var c=
$(".modules.tab-children").length,d=0;d<c;d++){var e=$(".modules.tab-content-list > div:nth-child("+(d+1)+")"),m=e.find("#modules_type").val();null!=m&&void 0!=m&&(a.modules[d]={},a.modules[d].type=m,a.modules[d].description=b.register(e.find("#modules_description").val()),a.modules[d].version=b.register([Number(e.find("#modules_version_major").val()),Number(e.find("#modules_version_minor").val()),Number(e.find("#modules_version_patch").val())]),a.modules[d].uuid=e.find("#modules_uuid").val(),a.modules[d].entry=
"javascript"==a.modules[d].type?b.register(e.find("#modules_entry").val()):void 0)}if(H)for(a.dependencies=[],c=$(".dependencies.tab-children").length,d=0;d<c;d++)e=$("div.dependencies.tab-content-list > div:nth-child("+(d+1)+")"),a.dependencies[d]={},a.dependencies[d].uuid=e.find("#dependencies_uuid").val(),a.dependencies[d].version=b.register([Number(e.find("#dependencies_version_major").val()),Number(e.find("#dependencies_version_minor").val()),Number(e.find("#dependencies_version_patch").val())]);
I&&$("div.capabilities_list div input").is(":checked")&&(a.capabilities=[],$("#experimental_custom_ui").is(":checked")&&a.capabilities.push("experimental_custom_ui"),$("#chemistry").is(":checked")&&a.capabilities.push("chemistry"),$("#raytracing").is(":checked")&&a.capabilities.push("raytracing"));c=[function(){for(var k=$("label.author_name").length,l=0;l<k;l++)if(""!=$(".metadata_author").eq(l).val())return!0;return!1}(),""!=$("#metadata_url").val(),""!=$("#metadata_license").val()];if(J&&c.some(function(k){return k})){a.metadata=
{};if(c[0])for(a.metadata.authors=[],d=$("label.author_name").length,e=0;e<d;e++)a.metadata.authors.push(b.register($("input.metadata_author").eq(e).val()));c[1]&&(a.metadata.url=b.register($("#metadata_url").val()));c[2]&&(a.metadata.license=b.register($("#metadata_license").val()))}if(K)for(a.subpacks=[],c=$(".subpacks.tab-children").length,d=0;d<c;d++)e=d+1,a.subpacks[d]={},m=$("div.subpacks.tab-content-list > div:nth-child("+e+")"),a.subpacks[d].folder_name=m.find("#subpacks_folder_name").val(),
a.subpacks[d].name=b.register($("div.subpacks.tab-content-list > div:nth-child("+e+") #subpacks_name").val()),a.subpacks[d].memory_tier=Number(m.find("#subpacks_memory_tier").val());return b.replaceAll(JSON.stringify(a,void 0,A?void 0:"  "),A)};
