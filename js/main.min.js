function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var fa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ha(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var n=ha(this);function r(a,b){if(b)a:{var c=n;a=a.split(".");for(var e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))break a;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&fa(c,a,{configurable:!0,writable:!0,value:b})}}
function ia(){this.m=!1;this.h=null;this.i=void 0;this.g=1;this.u=0;this.l=null}function ja(a){if(a.m)throw new TypeError("Generator is already running");a.m=!0}ia.prototype.s=function(a){this.i=a};function ka(a,b){a.l={L:b,M:!0};a.g=a.u}ia.prototype.return=function(a){this.l={return:a};this.g=this.u};function t(a,b,c){a.g=c;return{value:b}}function la(a){this.g=new ia;this.h=a}
function ma(a,b){ja(a.g);var c=a.g.h;if(c)return na(a,"return"in c?c["return"]:function(e){return{value:e,done:!0}},b,a.g.return);a.g.return(b);return w(a)}function na(a,b,c,e){try{var d=b.call(a.g.h,c);if(!(d instanceof Object))throw new TypeError("Iterator result "+d+" is not an object");if(!d.done)return a.g.m=!1,d;var h=d.value}catch(f){return a.g.h=null,ka(a.g,f),w(a)}a.g.h=null;e.call(a.g,h);return w(a)}
function w(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.m=!1,{value:b.value,done:!1}}catch(c){a.g.i=void 0,ka(a.g,c)}a.g.m=!1;if(a.g.l){b=a.g.l;a.g.l=null;if(b.M)throw b.L;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function oa(a){this.next=function(b){ja(a.g);a.g.h?b=na(a,a.g.h.next,b,a.g.s):(a.g.s(b),b=w(a));return b};this.throw=function(b){ja(a.g);a.g.h?b=na(a,a.g.h["throw"],b,a.g.s):(ka(a.g,b),b=w(a));return b};this.return=function(b){return ma(a,b)};this[Symbol.iterator]=function(){return this}}function pa(a){function b(e){return a.next(e)}function c(e){return a.throw(e)}return new Promise(function(e,d){function h(f){f.done?e(f.value):Promise.resolve(f.value).then(b,c).then(h,d)}h(a.next())})}
function x(a){return pa(new oa(new la(a)))}r("Symbol",function(a){function b(h){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(e+(h||"")+"_"+d++,h)}function c(h,f){this.g=h;fa(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var e="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0;return b});
r("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var e=n[b[c]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&fa(e.prototype,a,{configurable:!0,writable:!0,value:function(){return qa(aa(this))}})}return a});function qa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
r("Promise",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.u=!1;var g=this.l();try{f(g.resolve,g.reject)}catch(k){g.reject(k)}}function c(){this.g=null}function e(f){return f instanceof b?f:new b(function(g){g(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var g=this;this.i(function(){g.m()})}this.g.push(f)};var d=n.setTimeout;c.prototype.i=function(f){d(f,0)};c.prototype.m=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var g=0;g<f.length;++g){var k=
f[g];f[g]=null;try{k()}catch(l){this.l(l)}}}this.g=null};c.prototype.l=function(f){this.i(function(){throw f;})};b.prototype.l=function(){function f(l){return function(p){k||(k=!0,l.call(g,p))}}var g=this,k=!1;return{resolve:f(this.H),reject:f(this.m)}};b.prototype.H=function(f){if(f===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.J(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.G(f):this.s(f)}};
b.prototype.G=function(f){var g=void 0;try{g=f.then}catch(k){this.m(k);return}"function"==typeof g?this.K(g,f):this.s(f)};b.prototype.m=function(f){this.B(2,f)};b.prototype.s=function(f){this.B(1,f)};b.prototype.B=function(f,g){if(0!=this.h)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.h);this.h=f;this.i=g;2===this.h&&this.I();this.D()};b.prototype.I=function(){var f=this;d(function(){if(f.F()){var g=n.console;"undefined"!==typeof g&&g.error(f.i)}},1)};b.prototype.F=
function(){if(this.u)return!1;var f=n.CustomEvent,g=n.Event,k=n.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=n.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return k(f)};b.prototype.D=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)h.h(this.g[f]);this.g=null}};var h=new c;b.prototype.J=
function(f){var g=this.l();f.v(g.resolve,g.reject)};b.prototype.K=function(f,g){var k=this.l();try{f.call(g,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(f,g){function k(q,u){return"function"==typeof q?function(K){try{l(q(K))}catch(z){p(z)}}:u}var l,p,v=new b(function(q,u){l=q;p=u});this.v(k(f,l),k(g,p));return v};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.v=function(f,g){function k(){switch(l.h){case 1:f(l.i);break;case 2:g(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?h.h(k):this.g.push(k);this.u=!0};b.resolve=e;b.reject=function(f){return new b(function(g,k){k(f)})};b.race=function(f){return new b(function(g,k){for(var l=m(f),p=l.next();!p.done;p=l.next())e(p.value).v(g,k)})};b.all=function(f){var g=m(f),k=g.next();return k.done?e([]):new b(function(l,p){function v(K){return function(z){q[K]=z;u--;0==u&&l(q)}}var q=[],u=0;do q.push(void 0),u++,e(k.value).v(v(q.length-1),p),k=g.next();while(!k.done)})};return b});
function ra(a,b){a instanceof String&&(a+="");var c=0,e=!1,d={next:function(){if(!e&&c<a.length){var h=c++;return{value:b(h,a[h]),done:!1}}e=!0;return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}r("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(b){return b})}});function sa(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var h=a[d];if(b.call(c,h,d,a))return{A:d,C:h}}return{A:-1,C:void 0}}
r("Array.prototype.find",function(a){return a?a:function(b,c){return sa(this,b,c).C}});r("Array.prototype.fill",function(a){return a?a:function(b,c,e){var d=this.length||0;0>c&&(c=Math.max(0,d+c));if(null==e||e>d)e=d;e=Number(e);0>e&&(e=Math.max(0,d+e));for(c=Number(c||0);c<e;c++)this[c]=b;return this}});function y(a){return a?a:Array.prototype.fill}r("Int8Array.prototype.fill",y);r("Uint8Array.prototype.fill",y);r("Uint8ClampedArray.prototype.fill",y);r("Int16Array.prototype.fill",y);
r("Uint16Array.prototype.fill",y);r("Int32Array.prototype.fill",y);r("Uint32Array.prototype.fill",y);r("Float32Array.prototype.fill",y);r("Float64Array.prototype.fill",y);r("Array.prototype.findIndex",function(a){return a?a:function(b,c){return sa(this,b,c).A}});
r("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});var A=!1,ta=!1,B=!1,C=2,D=!1,E=!1,F=!1,ua=!1,G=!1,L=!1,M=!1,Ca,Da=!0,N=0,Ea="",O="",Fa=!!window.showOpenFilePicker,Q=void 0;
function Ga(){this.g={}}Ga.prototype.register=function(a){var b=void 0;Array.isArray(a)?5<=Math.max.apply(null,a.map(function(c){return String(c).length}))&&6<=a.length||80<=a.join(",").length||a.some(function(c){return"object"==typeof c})||0==a.length?b=a:(b=R(),this.g['"'+b+'"']=a):"string"==typeof a?(b=R(),this.g['"'+b+'"']=a.replace(/\\[^n\\]|\\$/g,"")):b=a;return b};
Ga.prototype.replaceAll=function(a,b){b=void 0===b?!1:b;for(var c=Object.keys(this.g),e={},d=0;d<c.length;e={o:e.o},d++){var h=c[d];e.o=this.g[h];a=a.replace(h,function(f){return function(){if(Array.isArray(f.o))return b?JSON.stringify(f.o):JSON.stringify(f.o).split(/^\[/).join("[ ").split(/,/).join(", ").split(/\]$/).join(" ]");if("string"==typeof f.o)return'"'+f.o+'"'}}(e))}return a};
function Ha(){this.g=[];this.h=[];$("ul.issue-list li").remove();$(".stat-warning,.stat-error").removeClass("stat-warning stat-error")}
function Ia(a){$("span.issue-error-num").text("\u30a8\u30e9\u30fc:"+a.g.length);$("span.issue-warning-num").text("\u8b66\u544a:"+a.h.length);0>=a.h.length&&0>=a.g.length?$("ul.issue-list").append("<li>\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093</li>"):(a.g.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/error.svg",alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-error")}),a.h.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/warning.svg",
alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-warning")}))}function S(a,b,c){a.h.push([b,c])}function T(a,b,c){a.g.push([b,c])}function R(){for(var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),b=0,c=a.length;b<c;b++)switch(a[b]){case "x":a[b]=Math.floor(16*Math.random()).toString(16);break;case "y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}return a.join("")}
function Ja(a){return null===(void 0===a?"":a).match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?!1:!0}$(window).bind("beforeunload",function(){if(A)return"\u3053\u306e\u30da\u30fc\u30b8\u3092\u96e2\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"});$(document).on("change keyup click","input,textarea,select",function(a){U();A=$(a.target).is("[ui]")?A:!0;$("#edit_state").toggleClass("changed",A)});$(window).on("load",function(){U()});
$("textarea").on("keydown",function(a){if("Enter"==a.key)return!1});$(".separator").on("mousedown",function(){D?D&&(D=!1):D=!0});$(document).on("mouseup",function(){D=!1;$("html").css("cursor","");var a=$(".separator");a.prev().removeClass("drag-lock");a.next().removeClass("drag-lock")});
$(document).on("mousemove",function(a){if(D){$("html").css("cursor","e-resize");var b=$(".separator");b.prev().addClass("drag-lock");b.next().addClass("drag-lock");var c=$("html").width()-2;a=c-a.clientX;c-=a;b.next().css("flex-basis",a);b.prev().css("flex-basis",c)}});$(window).resize(function(){$("div.preview").css("display","");$("div.editor").css("flex-basis","");$("div.data_check").css("flex-basis","");N=5;Mc()});
$(document).on("click",function(a){$("details.open-more-info").attr("open")&&($(a.target).is("details.open-more-info>summary")&&(a.preventDefault(),a.stopPropagation()),$("details.open-more-info").prop("open",!1))});$("details.open-more-info").on("mouseenter mouseleave",function(a){$("details.open-more-info").prop("open",$(a.target).is(":hover"))});$("#show_help").on("click",function(){$("#page-help").fadeIn("fast");Mc()});$("#page-help").on("click",function(){Mc()});
function Mc(){switch(N){case 1:$("#help-content-1").fadeOut("fast");$("#help-content_2").slideToggle("fast");N++;break;case 2:$("#help-content_2").slideToggle("fast");$("#help-content-3").fadeIn("fast");N++;break;case 3:$("#help-content-3").fadeOut("fast");$("#page-help").hide();N=0;break;case 5:$("#help-content-1").hide();$("#help-content_2").hide();$("#help-content-3").hide();$("#page-help").hide();N=0;break;default:$("#help-content-1").fadeIn("fast"),N++}}
$("div#show-preview").on("click",function(){var a=$("div#show-preview");$("div.preview").slideToggle();a.toggleClass("active",!a.hasClass("active"))});$("#open-about").on("click",function(){$("div.page-about").removeClass("about-hide")});$("#close-about-btn").on("click",function(){$("div.page-about").addClass("about-hide")});$(".page-about").on("click",function(a){$(a.target).is(".page-about")&&$("div.page-about").addClass("about-hide")});
$(document).on("click",".tab-children:not(.selected)>input",function(){var a=$(this).attr("class");if("modules"==a||E&&"dependencies"==a||G&&"subpacks"==a){var b=$(this).parent(),c=b.index();$("."+a+".tab-children").removeClass("selected");b.addClass("selected");$("."+a+".tab-content-list>div").removeClass("selected-tab-content").eq(c).addClass("selected-tab-content")}});
$("#modules_add,#dependencies_add,#subpacks_add").on("click",function(){($(this).hasClass("modules")||G&&$(this).hasClass("subpacks")||E&&$(this).hasClass("dependencies"))&&Z($(this).attr("class"));U()});
function Z(a){a=void 0===a?"":a;var b=$("."+a+".tab-body"),c=b.children("label").length;b.append($("<label>").addClass(a+" tab-children invisible_Control").append($("<input>").attr("type","button").addClass(a),$("<div>").addClass("tab-number").text(c),$("<div>").addClass("tab-underBar")));b.children("li:last-child").hide().show(150);a=$("."+a+".tab-content-list");b=a.children("div:first-child").clone().removeClass("selected-tab-content");Array.prototype.forEach.call(b.find('input:not([type="button"])'),
function(e){e.value=e.defaultValue});Array.prototype.forEach.call(b.find("textarea"),function(e){e.value=e.defaultValue});a.append(b)}
$("#modules-delete,#dependencies-delete,#subpacks-delete").on("click",function(a){var b="."+$(this).attr("class");if($(this).hasClass("modules")||G&&$(this).hasClass("subpacks")||E&&$(this).hasClass("dependencies")){var c=b;c=void 0===c?"":c;b=$(c+".tab-children");if(!(""==c||1>=b.length)){$(c+".tab-children.selected").remove();$(c+".tab-content-list>.selected-tab-content").remove();b=$(c+".tab-children");c=$(c+".tab-content-list>div");for(var e=0,d=0;d<b.length;d++){var h=b.eq(d),f=c.eq(d);0==d&&
(h.addClass("selected"),f.addClass("selected-tab-content"));h.children("div.tab-number").text(e);e++}}}U();a.stopPropagation()});$("#author-add").on("click",function(){Nc();U()});function Nc(a){a=void 0===a?"":a;$("div.authors_list").append($("<label>").addClass("author_name").append($("<div>").addClass("author_num").text($(".author_name").length),$("<input>").attr({type:"text",N:"metadata_author",value:a})))}
$("#author-delete").on("click",function(){$("div.authors_list>.author_name:last-child").remove();U()});$("#issue-control").on("click",function(){var a=$("div.issue-status-label svg");a.hasClass("close")?a.attr("class","open"):a.attr("class","close");$("div.issue_content").slideToggle()});
if(navigator.share)$("#page-share").addClass("supported").on("click",function(){return x(function(a){return t(a,navigator.share({title:"MCBE Manifest Generator",text:"MCBE Manifest Generator -manifest.json\u3092\u7c21\u5358\u306b\u4f5c\u6210\u30fb\u7de8\u96c6-",url:"https://toka7290.github.io/MCAddonSetupManager/"}),0)})});$(window).on("keydown",function(a){if(!a.defaultPrevented&&a.ctrlKey){switch(a.key.toLowerCase()){case "s":a.shiftKey?Oc(!0):Oc()}a.stopPropagation();a.preventDefault()}});
Fa?(console.log("File System Access APIs"),$(".import_button.file_system_access").removeClass("disabled"),$(".import_button.file_reader").addClass("disabled"),$(".preview_control_child.save").removeClass("disabled"),$("#input_file_fsa").on("click",function(){var a,b;return x(function(c){a={multiple:!1,excludeAcceptAllOption:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]};b=m(function(){return function(){return x(function(e){return t(e,window.showOpenFilePicker(a),0)})}}());
Q=b.next().value;Pc();c.g=0})}),$("#control_save").on("click",function(){return x(function(a){Oc();a.g=0})}),$(window).on("focus",function(){!A&&Q&&Pc()})):($(".import_button.file_system_access").addClass("disabled"),$(".import_button.file_reader").removeClass("disabled"),$(".preview_control_child.save").addClass("disabled"),$("#input-file").on("change",function(){Qc()}));
function Pc(){var a,b;x(function(c){if(1==c.g)return Q?t(c,Q.getFile(),2):c.return();if(3!=c.g)return a=c.i,t(c,a.text(),3);b=c.i;Rc(b);c.g=0})}
function Oc(a){var b=O;a=void 0===a?!1:a;var c,e;x(function(d){switch(d.g){case 1:a||(c=Q);if(c){d.g=2;break}return t(d,window.showSaveFilePicker({excludeAcceptAllOption:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),3);case 3:c=d.i;case 2:return t(d,c.createWritable(),4);case 4:return e=d.i,t(d,e.write(b),5);case 5:return t(d,e.close(),6);case 6:A=!1,$("#edit_state").toggleClass("changed",A),a||(Q=c),d.g=0}})}
function Qc(){var a=$("#input-file").prop("files")[0],b=new FileReader;b.onload=function(){Rc(b.result)};try{b.readAsText(a)}catch(c){window.alert("\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fmanifest.json\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002manifest.json\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),console.error("error:"+c)}}$(document).on("dragenter dragover",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").removeClass("hide")});
$(".file-drop-zone-pick").on("dragleave",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").addClass("hide")});$(document).on("drop",function(a){A=!0;$(".file-drop-zone").addClass("hide");var b=a;a.originalEvent&&(b=a.originalEvent);b.stopPropagation();b.preventDefault();$("#input-file").prop("files",b.dataTransfer.files);Qc()});
navigator.clipboard?($(".preview_control_child.copy").removeClass("disabled"),$("#control_copy").on("click",function(){return x(function(a){if(1==a.g)return console.log("Clipboard"),t(a,navigator.clipboard.writeText(O),2);$("p#control_copy_text").text("Copied");setTimeout(function(){$("p#control_copy_text").text("Copy")},1E3);a.g=0})})):$(".preview_control_child.copy").addClass("disabled");
$("#control_download").on("click",function(){$("<a></a>",{href:window.URL.createObjectURL(new Blob([O])),download:"manifest.json",target:"_blank"})[0].click()});$("#control_simple").on("click",function(a){B=a.target.checked;Sc()});
function Sc(){$(".editor_element_group.editor_normal_mode").toggleClass("hide",B);$(".editor_element_group.editor_simple_mode").toggleClass("hide",!B);var a=$("#simple_pack_name"),b=a.val(),c=$("#simple_description"),e=c.val(),d=$("#header_pack_name").val(),h=$("#header_description").val();if(B){""==b&&""!=d&&a.val(d);""==e&&""!=h&&c.val(h);Ea=$(".modules.tab-content-list > div:nth-child(1) #modules_description").val();a="behavior";switch($(".modules.tab-content-list > div:nth-child(1) #modules_type").val()){case "resources":a=
"texture";break;case "world_template":a="world";break;case "skin_pack":a="skin"}$('input[type="radio"][name="simple_type_child"][value="'+a+'"]').prop("checked",!0)}else a.val(""),c.val("")}$("#control_compact").on("click",function(a){ta=a.target.checked});$("#format_version").on("change",function(){C=Number($("#format_version").val())});$(document).on("click",'input[type="button"].generate_uuid',function(){$(this).parents("div.type-uuid").find('input[type="text"]').val(R);U()});
function U(){if(B){var a=$("#simple_pack_name").val(),b=$("#simple_description").val(),c=$("#header_pack_name"),e=$("#header_description");c.val(a);e.val(b);b=$("#header_uuid");""==b.val()&&(b.val(R()),A=!0);b=$(".modules.tab-children").length;for(c=0;c<b;c++){e=$(".modules.tab-content-list > div:nth-child("+(c+1)+")");var d=e.find("#modules_type"),h="data",f="behavior";switch($('input[type="radio"][name="simple_type_child"]:checked').val()){case "behavior":h="data";f="behavior";break;case "texture":f=
h="resources";break;case "world":h="world_template";f="world template";break;case "skin":h="skin_pack",f="skin pack"}d.val()!=h&&(Ea="");d.val(h);d=e.find("#modules_description");""==Ea&&(d.val(a.replace(/\u00a7.|\\n/g,"")+" "+f+" module"),A=!0);e=e.find("#modules_uuid");""==e.val()&&(e.val(R()),A=!0)}}Tc();Uc();Vc();Da&&Wc();Xc();O=Yc();$("pre.language-json code.language-json").remove();$("pre.language-json").append($("<code>").addClass("language-json").text(O));a=$("#header_pack_name").val().toString();
if(""==a)a="\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093";else if(null!=a.match(/\\/g)){a=a.split("\\\\");b="";for(var g in a)if(c=a[g].indexOf("\\n"),1<=g&&(b+="\\\\"),-1!=c){b+=a[g].slice(0,a[g].indexOf("\\n")-a[g].length)+"\u2026";break}else b+=""+a[g];a=b}$("#card-title").html(MinecraftText.toHTML(a));c=$("#header_description").val().toString();if(""==c)c="\u00a7c\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e";else if(null!=c.match(/\\/g)){a=g=0;b="";c=c.split("\\\\");for(var k in c){do if(a++,
g=c[k].indexOf("\\n",g+1),-1==g)break;while(3>a);1<=k&&(b+="\\\\");if(-1!=g){b+=c[k].slice(0,g+1-c[k].length)+"\u2026";break}else b+=""+c[k]}c=b}$("#card-description").html(MinecraftText.toHTML(c));MinecraftText.refeashObfuscate();Prism.highlightAll()}function Xc(){Da=!1;"number"===typeof Ca&&window.clearTimeout(Ca);Ca=window.setTimeout(function(){Da=!0;Wc()},500)}
function Tc(){E=$("#dependencies_enable").is(":checked")||$("#dependencies_enable").is(":indeterminate");F=$("#capabilities_enable").is(":checked")||$("#capabilities_enable").is(":indeterminate");ua=$("#metadata_enable").is(":checked")||$("#metadata_enable").is(":indeterminate");G=$("#subpacks_enable").is(":checked")||$("#subpacks_enable").is(":indeterminate");var a=$(".dependencies.tab-content-list div.value-element");E?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",
!1),""==$("#dependencies_uuid").val()?$("#dependencies_enable").prop("indeterminate",!0):$("#dependencies_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".capabilities_list .value-element");F?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),$("div.capabilities_list div input").is(":checked")?$("#capabilities_enable").prop("indeterminate",!1):$("#capabilities_enable").prop("indeterminate",!0)):(a.addClass("disabled"),
a.find("input").prop("disabled",!0));a=$(".metadata_list .value-element");ua?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),[0<$(".metadata_author").length?""!=$(".metadata_author").val():!1,""!=$("#metadata_url").val(),""!=$("#metadata_license").val()].some(function(b){return b})?$("#metadata_enable").prop("indeterminate",!1):$("#metadata_enable").prop("indeterminate",!0)):(a.addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".subpacks.tab-content-list div.value-element");
G?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",!1),""==$("#subpacks_folder_name").val()&&""==$("#subpacks_name").val()?$("#subpacks_enable").prop("indeterminate",!0):$("#subpacks_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0))}
function Uc(){[".dependencies",".subpacks"].forEach(function(a,b){Zc(a,[[E,G][b],[E,G][b],[E,G][b]&&1<$(a+".tab-children").length])});1<$(".author_name").length?$(".remove_author").removeClass("disabled").find("input").prop("disabled",!1):$(".remove_author").addClass("disabled").find("input").prop("disabled",!0)}
function Zc(a,b){a=void 0===a?"":a;b=void 0===b?[0,0,0]:b;[".tab-body",".add-tab",".remove-tab"].forEach(function(c,e){c=$(a+c);1==b[e]?c.removeClass("disabled").find("input").prop("disabled",!1):0==b[e]&&c.addClass("disabled").find("input").prop("disabled",!0)})}
function Vc(){var a=Array.prototype.map.call($(".modules.tab-content-list > div #modules_type"),function(g){return g.value});L=a.some(function(g){return"world_template"==g});M=a.some(function(g){return"skin_pack"==g});$("#header_min_engine_version").toggleClass("disabled",L||M);$("#header_min_engine_version_input input").prop("disabled",L||M);$("#header_base_game_version").toggleClass("disabled",2<=C&&!L);$("#header_base_game_version_input input").prop("disabled",2<=C&&!L);$("#header_lock_template_options").prop("disabled",
!L).parent().toggleClass("disabled",!L);$("#header_pack_scope_label").toggleClass("disabled",L||M);$("#header_pack_scope").prop("disabled",L||M);var b=[!1,!1,!1,!1,!1,!1,!1],c={},e=(c.data=0,c.resources=1,c.client_data=2,c.javascript=3,c["interface"]=4,c.world_template=5,c.skin_pack=6,c);c=L||M||a.some(function(g){return"resources"==g});for(var d={j:0};d.j<a.length;d={j:d.j},d.j++){b.forEach(function(g){return function(k,l){$(".modules.tab-content-list > div:nth-child("+(g.j+1)+") #modules_type option:nth-child("+
(l+1)+")").prop("disabled",k)}}(d));if(b[e[a[d.j]]]){var h=b.indexOf(!1),f=$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_type").prop("selectedIndex",h);b[h]=!0;a[d.j]=f.val()}b[e[a[d.j]]]=!0;d.j||["resources","world_template","skin_pack"].forEach(function(g){b[e[g]]=!0});c&&b.fill(!0);$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_entry_label").toggleClass("disabled","javascript"!=a[d.j]);$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_entry").prop("disabled",
"javascript"!=a[d.j])}c?Zc(".modules",[!1,0,0]):Zc(".modules",[!0,b.some(function(g){return 0==g}),a.length-1])}
function Wc(){var a=new Ha,b=$("#header_min_engine_version_major"),c=b.val();switch(C){case 1:(1<c||13<=Number($("#header_min_engine_version_minor").val()))&&S(a,"[Header:min engine version] \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f31\u3067\u306f1.13\u3088\u308a\u4f4e\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f32\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002",b.parent().find("input"));
break;case 2:1>=c&&13>Number($("#header_min_engine_version_minor").val())&&T(a,"[Header:min engine version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",b.parent().find("input")),1>=Number($("#header_base_game_version_major").val())&&13>Number($("#header_base_game_version_minor").val())&&T(a,"[Header:base game version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",$("#header_base_game_version_major").parent().find("input"))}b=
$("#header_pack_name");c=b.val();""==c?S(a,'[Header:name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002\u540d\u524d\u304c\u7a7a\u306e\u5834\u5408\u3001"\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&T(a,'[Header:name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_description");c=b.val();""==c?S(a,'[Header:description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u8aac\u660e\u304c\u7a7a\u306e\u5834\u5408\u3001"\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&T(a,'[Header:description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_uuid");c=b.val();""==c?T(a,"[Header:uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Ja(c)||T(a,"[Header:uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);for(var e=$(".modules.tab-children").length,d=0;d<e;d++){var h=d+1;b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_type");var f=b.val();null==f&&T(a,"[Modules:"+
d+":type] type\u304cnull\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002type\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b);b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_description");c=b.val();""==c?S(a,"[Modules:"+d+":description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&T(a,"[Modules:"+d+':description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_uuid");c=b.val();""==c?T(a,"[Modules:"+d+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Ja(c)||T(a,"[Modules:"+d+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);"javascript"==f&&(b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_entry"),c=b.val(),""==c?T(a,
"[Modules:"+d+":entry] \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093",b):c.match(/\.js$/)||T(a,"[Modules:"+d+":entry] \u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f .js \u306e\u62e1\u5f35\u5b50\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002 \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u306fJavaScript\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u305b\u3093\u3002",b))}if(E)for(e=
$(".dependencies.tab-children").length,d=0;d<e;d++)b=$("div.dependencies.tab-content-list > div:nth-child("+(d+1)+") #dependencies_uuid"),c=b.val(),""==c?T(a,"[Dependencies:"+d+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Ja(c)||T(a,"[Dependencies:"+d+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);F&&($("#experimental_custom_ui").is(":checked")||
$("#chemistry").is(":checked")||$("#raytracing").is(":checked")||S(a,"[Capabilities] \u4e00\u3064\u3082\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",$(".capabilities_list>input")));if(ua){if(e=$("label.author_name").length)for(d=0;d<e;d++)b=$("input.metadata_author").eq(d),c=b.val(),""==c?S(a,"[Metadata:author:"+d+"] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&T(a,"[Metadata:author:"+d+'] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u6d88\u53bb\u3059\u308b\u304b\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3057\u3066\u518d\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);else S(a,"[Metadata:author] \u540d\u524d\u304c\u4e00\u3064\u3082\u3042\u308a\u307e\u305b\u3093\u3002",$("div.add_author"));b=$("#metadata_url");c=b.val();""==c?S(a,"[Metadata:url] URL\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&T(a,'[Metadata:url] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#metadata_license");c=b.val();""==c?S(a,"[Metadata:license] \u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&T(a,'[Metadata:license] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',b)}if(G)for(e=$(".subpacks.tab-children").length,
d=0;d<e;d++)c=$("div.subpacks.tab-content-list > div:nth-child("+(d+1)+")"),b=c.find("#subpacks_folder_name"),""==b.val()&&T(a,"[Subpacks:"+d+":folder_name] \u30d5\u30a9\u30eb\u30c0\u30fc\u540d\u304c\u7a7a\u3067\u3059\u3002",b),b=c.find("#subpacks_name"),c=b.val().toString(),""==c?T(a,"[Subpacks:"+d+":name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&T(a,"[Subpacks:"+d+':name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);Ia(a)}
function $c(a,b){a=void 0===a?"":a;b=void 0===b?"":b;var c="\u6709\u52b9\u306ajson\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002";if(""==a||""==b)return c;b=b.split(" ");var e=b.findIndex(function(g){return"line"==g}),d=b.findIndex(function(g){return"position"==g});if(-1!=e){var h=parseInt(b[e+1],10);b=function(g){for(var k=0,l=1;l<g;l++)k=a.indexOf("\n",k)+1;return k};var f=b(h-1);b=b(h+1)-1;c+="\n"+(h-1)+"~"+h+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(f,
b)}else-1!=d&&(b=b[d+1],e=a.lastIndexOf("\n",a.lastIndexOf("\n",b)-1)+1,d=null!=(f=null==(h=a.substr(0,e).match(/\n/g))?void 0:h.length)?f:1,c+="\n"+d+"~"+(d+1)+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(e,a.indexOf("\n",b-1)));return c}
function Rc(a){a=void 0===a?"":a;var b={};try{b=JSON.parse(a)}catch(va){if(a.match(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g)){window.alert($c(a,va.message)+"\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u9664\u53bb\u3057\u3066\u518d\u5ea6\u8a66\u307f\u307e\u3059\u3002\n");var c=a.replace(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g,"");try{b=JSON.parse(c)}catch(Ka){window.alert($c(c,Ka.message));console.error("error:"+Ka);return}}else{window.alert($c(a,va.message));console.error("error:"+
va);return}}var e;if(null==(e=b)?0:e.format_version)$("#format_version").val(b.format_version);else{var d,h;if(null==(d=b)?0:null==(h=d.header)?0:h.modules){window.alert("\u53e4\u3044\u5f62\u5f0f(pack_manifest.json)\u304b\u3089\u5909\u63db\u3057\u307e\u3059\u3002");var f=b.header,g;$("#header_pack_name").val(null!=(g=null==f?void 0:f.name)?g:"");var k;$("#header_description").val(null!=(k=null==f?void 0:f.description)?k:"");var l;$("#header_uuid").val(null!=(l=null==f?void 0:f.pack_id)?l:"");var p,
v=(null!=(p=null==f?void 0:f.packs_version)?p:"1.0.0").split("."),q;$("#header_version_major").val(null!=(q=null==v?void 0:v[0])?q:1);var u;$("#header_version_minor").val(null!=(u=null==v?void 0:v[1])?u:0);var K;$("#header_version_patch").val(null!=(K=null==v?void 0:v[2])?K:0);if(null!=f.modules)for(var z=0;z<f.modules.length;z++){0<z&&Z("modules");var ba=f.modules[z],P=$(".modules.tab-content-list > div:nth-child("+(z+1)+")"),La=void 0,Ma=void 0;P.find("#modules_type").val(null!=(Ma=null==(La=ba)?
void 0:La.type)?Ma:"data");var Na=void 0,Oa=void 0;P.find("#modules_description").val(null!=(Oa=null==(Na=ba)?void 0:Na.description)?Oa:"");var Pa=void 0,Qa=void 0,wa=(null!=(Qa=null==(Pa=ba)?void 0:Pa.version)?Qa:"1.0.0").split("."),Ra=void 0,Sa=void 0;P.find("#modules_version_major").val(null!=(Sa=null==(Ra=wa)?void 0:Ra[0])?Sa:1);var Ta=void 0,Ua=void 0;P.find("#modules_version_minor").val(null!=(Ua=null==(Ta=wa)?void 0:Ta[1])?Ua:0);var Va=void 0,Wa=void 0;P.find("#modules_version_patch").val(null!=
(Wa=null==(Va=wa)?void 0:Va[2])?Wa:0);var Xa=void 0,Ya=void 0;P.find("#modules_uuid").val(null!=(Ya=null==(Xa=ba)?void 0:Xa.uuid)?Ya:"")}if(null!=f.dependencies){$("#dependencies_enable").prop("checked",!0);for(var V=0;V<f.dependencies.length;V++){0<V&&Z("dependencies");var Za=f.dependencies[V],ca=$("div.dependencies.tab-content-list > div:nth-child("+(V+1)+")"),$a=void 0,ab=void 0;ca.find("#dependencies_uuid").val(null!=(ab=null==($a=Za)?void 0:$a.uuid)?ab:"");var bb=void 0,cb=void 0,xa=(null!=(cb=
null==(bb=Za)?void 0:bb.version)?cb:"1.0.0").split("."),db=void 0,eb=void 0;ca.find("#dependencies_version_major").val(null!=(eb=null==(db=xa)?void 0:db[0])?eb:1);var fb=void 0,gb=void 0;ca.find("#dependencies_version_minor").val(null!=(gb=null==(fb=xa)?void 0:fb[1])?gb:0);var hb=void 0,ib=void 0;ca.find("#dependencies_version_patch").val(null!=(ib=null==(hb=xa)?void 0:hb[2])?ib:0)}}U();return}}var jb,kb;$("#header_pack_name").val(null!=(kb=null==(jb=b.header)?void 0:jb.name)?kb:"");var lb,mb;$("#header_description").val(null!=
(mb=null==(lb=b.header)?void 0:lb.description)?mb:"");var nb,ob,pb;$("#header_version_major").val(null!=(pb=null==(nb=b.header)?void 0:null==(ob=nb.version)?void 0:ob[0])?pb:1);var qb,rb,sb;$("#header_version_minor").val(null!=(sb=null==(qb=b.header)?void 0:null==(rb=qb.version)?void 0:rb[1])?sb:0);var tb,ub,vb;$("#header_version_patch").val(null!=(vb=null==(tb=b.header)?void 0:null==(ub=tb.version)?void 0:ub[2])?vb:0);var wb,xb,yb;$("#header_min_engine_version_major").val(null!=(yb=null==(wb=b.header)?
void 0:null==(xb=wb.min_engine_version)?void 0:xb[0])?yb:1);var zb,Ab,Bb;$("#header_min_engine_version_minor").val(null!=(Bb=null==(zb=b.header)?void 0:null==(Ab=zb.min_engine_version)?void 0:Ab[1])?Bb:13);var Cb,Db,Eb;$("#header_min_engine_version_patch").val(null!=(Eb=null==(Cb=b.header)?void 0:null==(Db=Cb.min_engine_version)?void 0:Db[2])?Eb:0);var Fb,Gb;$("#header_uuid").val(null!=(Gb=null==(Fb=b.header)?void 0:Fb.uuid)?Gb:"");var Hb,Ib;$("#header_platform_locked").prop("checked",null!=(Ib=null==
(Hb=b.header)?void 0:Hb.platform_locked)?Ib:!1);var Jb,Kb,Lb;$("#header_base_game_version_major").val(null!=(Lb=null==(Jb=b.header)?void 0:null==(Kb=Jb.base_game_version)?void 0:Kb[0])?Lb:1);var Mb,Nb,Ob;$("#header_base_game_version_minor").val(null!=(Ob=null==(Mb=b.header)?void 0:null==(Nb=Mb.base_game_version)?void 0:Nb[1])?Ob:13);var Pb,Qb,Rb;$("#header_base_game_version_patch").val(null!=(Rb=null==(Pb=b.header)?void 0:null==(Qb=Pb.base_game_version)?void 0:Qb[2])?Rb:0);var Sb,Tb;$("#header_lock_template_options").prop("checked",
null!=(Tb=null==(Sb=b.header)?void 0:Sb.lock_template_options)?Tb:!1);var Ub,Vb;$("#header_pack_scope").val(null!=(Vb=null==(Ub=b.header)?void 0:Ub.pack_scope)?Vb:"none");var Wb;if(null==(Wb=b)?0:Wb.modules)for(var W=0;W<b.modules.length;W++){0<W&&Z("modules");var H=b.modules[W],I=$(".modules.tab-content-list > div:nth-child("+(W+1)+")"),Xb=void 0,Yb=void 0;I.find("#modules_type").val(null!=(Yb=null==(Xb=H)?void 0:Xb.type)?Yb:"data");var Zb=void 0,$b=void 0;I.find("#modules_description").val(null!=
($b=null==(Zb=H)?void 0:Zb.description)?$b:"");var ac=void 0,bc=void 0,cc=void 0;I.find("#modules_version_major").val(null!=(cc=null==(ac=H)?void 0:null==(bc=ac.version)?void 0:bc[0])?cc:1);var dc=void 0,ec=void 0,fc=void 0;I.find("#modules_version_minor").val(null!=(fc=null==(dc=H)?void 0:null==(ec=dc.version)?void 0:ec[1])?fc:0);var gc=void 0,hc=void 0,ic=void 0;I.find("#modules_version_patch").val(null!=(ic=null==(gc=H)?void 0:null==(hc=gc.version)?void 0:hc[2])?ic:0);var jc=void 0,kc=void 0;I.find("#modules_uuid").val(null!=
(kc=null==(jc=H)?void 0:jc.uuid)?kc:"");var lc=void 0,mc=void 0;I.find("#modules_entry").val(null!=(mc=null==(lc=H)?void 0:lc.entry)?mc:"")}var nc;if(null==(nc=b)?0:nc.dependencies){$("#dependencies_enable").prop("checked",!0);for(var X=0;X<b.dependencies.length;X++){0<X&&Z("dependencies");var da=b.dependencies[X],ea=$("div.dependencies.tab-content-list > div:nth-child("+(X+1)+")"),oc=void 0,pc=void 0;ea.find("#dependencies_uuid").val(null!=(pc=null==(oc=da)?void 0:oc.uuid)?pc:"");var qc=void 0,rc=
void 0,sc=void 0;ea.find("#dependencies_version_major").val(null!=(sc=null==(qc=da)?void 0:null==(rc=qc.version)?void 0:rc[0])?sc:1);var tc=void 0,uc=void 0,vc=void 0;ea.find("#dependencies_version_minor").val(null!=(vc=null==(tc=da)?void 0:null==(uc=tc.version)?void 0:uc[1])?vc:0);var wc=void 0,xc=void 0,yc=void 0;ea.find("#dependencies_version_patch").val(null!=(yc=null==(wc=da)?void 0:null==(xc=wc.version)?void 0:xc[2])?yc:0)}}var zc;if(null==(zc=b)?0:zc.capabilities){$("#capabilities_enable").prop("checked",
!0);for(var Ac=m(b.capabilities),ya=Ac.next();!ya.done;ya=Ac.next())switch(ya.value){case "experimental_custom_ui":$("#experimental_custom_ui").prop("checked",!0);break;case "chemistry":$("#chemistry").prop("checked",!0);break;case "raytracing":$("#raytracing").prop("checked",!0)}}var Bc;if(null==(Bc=b)?0:Bc.metadata){$("#metadata_enable").prop("checked",!0);var J=b.metadata;if(null==J?0:J.authors)for(var Cc=m(J.authors),za=Cc.next();!za.done;za=Cc.next())Nc(za.value);var Dc;$("#metadata_url").val(null!=
(Dc=null==J?void 0:J.url)?Dc:"");var Ec;$("#metadata_license").val(null!=(Ec=null==J?void 0:J.license)?Ec:"")}var Fc;if(null==(Fc=b)?0:Fc.subpacks){$("#subpacks_enable").prop("checked",!0);for(var Y=0;Y<b.subpacks.length;Y++){0<Y&&Z("subpacks");var Aa=b.subpacks[Y],Ba=$("div.subpacks.tab-content-list > div:nth-child("+(Y+1)+")"),Gc=void 0,Hc=void 0;Ba.find("#subpacks_folder_name").val(null!=(Hc=null==(Gc=Aa)?void 0:Gc.folder_name)?Hc:"");var Ic=void 0,Jc=void 0;Ba.find("#subpacks_name").val(null!=
(Jc=null==(Ic=Aa)?void 0:Ic.name)?Jc:"");var Kc=void 0,Lc=void 0;Ba.find("#subpacks_memory_tier").val(null!=(Lc=null==(Kc=Aa)?void 0:Kc.memory_tier)?Lc:0)}}Sc();U()}
function Yc(){var a=new Ga,b={};b.format_version=C;b.header={};b.header.name=a.register($("#header_pack_name").val());b.header.description=a.register($("#header_description").val());b.header.version=a.register([Number($("#header_version_major").val()),Number($("#header_version_minor").val()),Number($("#header_version_patch").val())]);b.header.uuid=$("#header_uuid").val();b.header.platform_locked=$("#header_platform_locked").is(":checked")?!0:void 0;L?(2<=C&&(b.header.base_game_version=a.register([Number($("#header_base_game_version_major").val()),
Number($("#header_base_game_version_minor").val()),Number($("#header_base_game_version_patch").val())])),b.header.lock_template_options=$("#header_lock_template_options").is(":checked")):M||(b.header.min_engine_version=a.register([Number($("#header_min_engine_version_major").val()),Number($("#header_min_engine_version_minor").val()),Number($("#header_min_engine_version_patch").val())]),b.header.pack_scope="none"!=$("#header_pack_scope").val()?$("#header_pack_scope").val():void 0);b.modules=[];for(var c=
$(".modules.tab-children").length,e=0;e<c;e++){var d=$(".modules.tab-content-list > div:nth-child("+(e+1)+")"),h=d.find("#modules_type").val();null!=h&&void 0!=h&&(b.modules[e]={},b.modules[e].type=h,b.modules[e].description=a.register(d.find("#modules_description").val()),b.modules[e].version=a.register([Number(d.find("#modules_version_major").val()),Number(d.find("#modules_version_minor").val()),Number(d.find("#modules_version_patch").val())]),b.modules[e].uuid=d.find("#modules_uuid").val(),b.modules[e].entry=
"javascript"==b.modules[e].type?a.register(d.find("#modules_entry").val()):void 0)}if(E)for(b.dependencies=[],c=$(".dependencies.tab-children").length,e=0;e<c;e++)d=$("div.dependencies.tab-content-list > div:nth-child("+(e+1)+")"),b.dependencies[e]={},b.dependencies[e].uuid=d.find("#dependencies_uuid").val(),b.dependencies[e].version=a.register([Number(d.find("#dependencies_version_major").val()),Number(d.find("#dependencies_version_minor").val()),Number(d.find("#dependencies_version_patch").val())]);
F&&$("div.capabilities_list div input").is(":checked")&&(b.capabilities=[],$("#experimental_custom_ui").is(":checked")&&b.capabilities.push("experimental_custom_ui"),$("#chemistry").is(":checked")&&b.capabilities.push("chemistry"),$("#raytracing").is(":checked")&&b.capabilities.push("raytracing"));c=[function(){for(var f=$("label.author_name").length,g=0;g<f;g++)if(""!=$(".metadata_author").eq(g).val())return!0;return!1}(),""!=$("#metadata_url").val(),""!=$("#metadata_license").val()];if(ua&&c.some(function(f){return f})){b.metadata=
{};if(c[0])for(b.metadata.authors=[],e=$("label.author_name").length,d=0;d<e;d++)b.metadata.authors.push(a.register($("input.metadata_author").eq(d).val()));c[1]&&(b.metadata.url=a.register($("#metadata_url").val()));c[2]&&(b.metadata.license=a.register($("#metadata_license").val()))}if(G)for(b.subpacks=[],c=$(".subpacks.tab-children").length,e=0;e<c;e++)d=e+1,b.subpacks[e]={},h=$("div.subpacks.tab-content-list > div:nth-child("+d+")"),b.subpacks[e].folder_name=h.find("#subpacks_folder_name").val(),
b.subpacks[e].name=a.register($("div.subpacks.tab-content-list > div:nth-child("+d+") #subpacks_name").val()),b.subpacks[e].memory_tier=Number(h.find("#subpacks_memory_tier").val());return a.replaceAll(JSON.stringify(b,void 0,ta?void 0:"  "),ta)};
