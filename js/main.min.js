function ea(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ea(a)}}var fa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function na(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var n=na(this);function p(a,b){if(b)a:{var c=n;a=a.split(".");for(var e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))break a;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&fa(c,a,{configurable:!0,writable:!0,value:b})}}
function oa(){this.m=!1;this.i=null;this.h=void 0;this.g=1;this.u=0;this.l=null}function pa(a){if(a.m)throw new TypeError("Generator is already running");a.m=!0}oa.prototype.s=function(a){this.h=a};function qa(a,b){a.l={L:b,M:!0};a.g=a.u}oa.prototype.return=function(a){this.l={return:a};this.g=this.u};function t(a,b,c){a.g=c;return{value:b}}function ra(a){this.g=new oa;this.h=a}
function sa(a,b){pa(a.g);var c=a.g.i;if(c)return ta(a,"return"in c?c["return"]:function(e){return{value:e,done:!0}},b,a.g.return);a.g.return(b);return u(a)}function ta(a,b,c,e){try{var d=b.call(a.g.i,c);if(!(d instanceof Object))throw new TypeError("Iterator result "+d+" is not an object");if(!d.done)return a.g.m=!1,d;var h=d.value}catch(f){return a.g.i=null,qa(a.g,f),u(a)}a.g.i=null;e.call(a.g,h);return u(a)}
function u(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.m=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,qa(a.g,c)}a.g.m=!1;if(a.g.l){b=a.g.l;a.g.l=null;if(b.M)throw b.L;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function ua(a){this.next=function(b){pa(a.g);a.g.i?b=ta(a,a.g.i.next,b,a.g.s):(a.g.s(b),b=u(a));return b};this.throw=function(b){pa(a.g);a.g.i?b=ta(a,a.g.i["throw"],b,a.g.s):(qa(a.g,b),b=u(a));return b};this.return=function(b){return sa(a,b)};this[Symbol.iterator]=function(){return this}}function va(a){function b(e){return a.next(e)}function c(e){return a.throw(e)}return new Promise(function(e,d){function h(f){f.done?e(f.value):Promise.resolve(f.value).then(b,c).then(h,d)}h(a.next())})}
function w(a){return va(new ua(new ra(a)))}p("Symbol",function(a){function b(h){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(e+(h||"")+"_"+d++,h)}function c(h,f){this.g=h;fa(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var e="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0;return b});
p("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var e=n[b[c]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&fa(e.prototype,a,{configurable:!0,writable:!0,value:function(){return wa(ea(this))}})}return a});function wa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
p("Promise",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.u=!1;var g=this.l();try{f(g.resolve,g.reject)}catch(k){g.reject(k)}}function c(){this.g=null}function e(f){return f instanceof b?f:new b(function(g){g(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var g=this;this.i(function(){g.m()})}this.g.push(f)};var d=n.setTimeout;c.prototype.i=function(f){d(f,0)};c.prototype.m=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var g=0;g<f.length;++g){var k=
f[g];f[g]=null;try{k()}catch(l){this.l(l)}}}this.g=null};c.prototype.l=function(f){this.i(function(){throw f;})};b.prototype.l=function(){function f(l){return function(q){k||(k=!0,l.call(g,q))}}var g=this,k=!1;return{resolve:f(this.H),reject:f(this.m)}};b.prototype.H=function(f){if(f===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.J(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.G(f):this.s(f)}};
b.prototype.G=function(f){var g=void 0;try{g=f.then}catch(k){this.m(k);return}"function"==typeof g?this.K(g,f):this.s(f)};b.prototype.m=function(f){this.B(2,f)};b.prototype.s=function(f){this.B(1,f)};b.prototype.B=function(f,g){if(0!=this.h)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.h);this.h=f;this.i=g;2===this.h&&this.I();this.D()};b.prototype.I=function(){var f=this;d(function(){if(f.F()){var g=n.console;"undefined"!==typeof g&&g.error(f.i)}},1)};b.prototype.F=
function(){if(this.u)return!1;var f=n.CustomEvent,g=n.Event,k=n.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=n.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return k(f)};b.prototype.D=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)h.h(this.g[f]);this.g=null}};var h=new c;b.prototype.J=
function(f){var g=this.l();f.v(g.resolve,g.reject)};b.prototype.K=function(f,g){var k=this.l();try{f.call(g,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(f,g){function k(r,v){return"function"==typeof r?function(J){try{l(r(J))}catch(D){q(D)}}:v}var l,q,K=new b(function(r,v){l=r;q=v});this.v(k(f,l),k(g,q));return K};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.v=function(f,g){function k(){switch(l.h){case 1:f(l.i);break;case 2:g(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?h.h(k):this.g.push(k);this.u=!0};b.resolve=e;b.reject=function(f){return new b(function(g,k){k(f)})};b.race=function(f){return new b(function(g,k){for(var l=m(f),q=l.next();!q.done;q=l.next())e(q.value).v(g,k)})};b.all=function(f){var g=m(f),k=g.next();return k.done?e([]):new b(function(l,q){function K(J){return function(D){r[J]=D;v--;0==v&&l(r)}}var r=[],v=0;do r.push(void 0),v++,e(k.value).v(K(r.length-1),q),k=g.next();while(!k.done)})};return b});
function xa(a,b){a instanceof String&&(a+="");var c=0,e=!1,d={next:function(){if(!e&&c<a.length){var h=c++;return{value:b(h,a[h]),done:!1}}e=!0;return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}p("Array.prototype.keys",function(a){return a?a:function(){return xa(this,function(b){return b})}});function ya(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var h=a[d];if(b.call(c,h,d,a))return{A:d,C:h}}return{A:-1,C:void 0}}
p("Array.prototype.find",function(a){return a?a:function(b,c){return ya(this,b,c).C}});p("Array.prototype.fill",function(a){return a?a:function(b,c,e){var d=this.length||0;0>c&&(c=Math.max(0,d+c));if(null==e||e>d)e=d;e=Number(e);0>e&&(e=Math.max(0,d+e));for(c=Number(c||0);c<e;c++)this[c]=b;return this}});function x(a){return a?a:Array.prototype.fill}p("Int8Array.prototype.fill",x);p("Uint8Array.prototype.fill",x);p("Uint8ClampedArray.prototype.fill",x);p("Int16Array.prototype.fill",x);
p("Uint16Array.prototype.fill",x);p("Int32Array.prototype.fill",x);p("Uint32Array.prototype.fill",x);p("Float32Array.prototype.fill",x);p("Float64Array.prototype.fill",x);p("Array.prototype.findIndex",function(a){return a?a:function(b,c){return ya(this,b,c).A}});
p("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});var y=!1,za=!1,z=!1,A=2,B=!1,C=!1,Aa=!1,Ba=!1,G=!1,H=!1,L=!1,Kb,Lb=!0,M=0,Mb="",N="",Nb=!!window.showOpenFilePicker,O=void 0;
function Ob(){this.g={}}Ob.prototype.register=function(a){var b=void 0;Array.isArray(a)?5<=Math.max.apply(null,a.map(function(c){return String(c).length}))&&6<=a.length||80<=a.join(",").length||a.some(function(c){return"object"==typeof c})||0==a.length?b=a:(b=U(),this.g['"'+b+'"']=a):"string"==typeof a?(b=U(),this.g['"'+b+'"']=a.replace(/\\[^n\\]|\\$/g,"")):b=a;return b};
Ob.prototype.replaceAll=function(a,b){b=void 0===b?!1:b;for(var c=Object.keys(this.g),e={},d=0;d<c.length;e={o:e.o},d++){var h=c[d];e.o=this.g[h];a=a.replace(h,function(f){return function(){if(Array.isArray(f.o))return b?JSON.stringify(f.o):JSON.stringify(f.o).split(/^\[/).join("[ ").split(/,/).join(", ").split(/\]$/).join(" ]");if("string"==typeof f.o)return'"'+f.o+'"'}}(e))}return a};
function Pb(){this.g=[];this.h=[];$("ul.issue-list li").remove();$(".stat-warning,.stat-error").removeClass("stat-warning stat-error")}
function Qb(a){$("span.issue-error-num").text("\u30a8\u30e9\u30fc:"+a.g.length);$("span.issue-warning-num").text("\u8b66\u544a:"+a.h.length);0>=a.h.length&&0>=a.g.length?$("ul.issue-list").append("<li>\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093</li>"):(a.g.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/error.svg",alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-error")}),a.h.forEach(function(b){$("ul.issue-list").append($("<li>").append($("<img>").attr({src:"img/warning.svg",
alt:"",width:"19px",height:"19px"}),$("<p>").text(b[0])));b[1].addClass("stat-warning")}))}function V(a,b,c){a.h.push([b,c])}function W(a,b,c){a.g.push([b,c])}function U(){for(var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),b=0,c=a.length;b<c;b++)switch(a[b]){case "x":a[b]=Math.floor(16*Math.random()).toString(16);break;case "y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}return a.join("")}
function Rb(a){return null===(void 0===a?"":a).match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?!1:!0}$(window).bind("beforeunload",function(){if(y)return"\u3053\u306e\u30da\u30fc\u30b8\u3092\u96e2\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"});$(document).on("change keyup click","input,textarea,select",function(a){X();y=$(a.target).is("[ui]")?y:!0;$("#edit_state").toggleClass("changed",y)});$(window).on("load",function(){X()});
$("textarea").on("keydown",function(a){if("Enter"==a.key)return!1});$(".separator").on("mousedown",function(){B?B&&(B=!1):B=!0});$(document).on("mouseup",function(){B=!1;$("html").css("cursor","");var a=$(".separator");a.prev().removeClass("drag-lock");a.next().removeClass("drag-lock")});
$(document).on("mousemove",function(a){if(B){$("html").css("cursor","e-resize");var b=$(".separator");b.prev().addClass("drag-lock");b.next().addClass("drag-lock");var c=$("html").width()-2;a=c-a.clientX;c-=a;b.next().css("flex-basis",a);b.prev().css("flex-basis",c)}});$(window).resize(function(){$("div.preview").css("display","");$("div.editor").css("flex-basis","");$("div.data_check").css("flex-basis","");M=5;Sb()});
$(document).on("click",function(a){$("details.open-more-info").attr("open")&&($(a.target).is("details.open-more-info>summary")&&(a.preventDefault(),a.stopPropagation()),$("details.open-more-info").prop("open",!1))});$("details.open-more-info").on("mouseenter mouseleave",function(a){$("details.open-more-info").prop("open",$(a.target).is(":hover"))});$("#show_help").on("click",function(){$("#page-help").fadeIn("fast");Sb()});$("#page-help").on("click",function(){Sb()});
function Sb(){switch(M){case 1:$("#help-content-1").fadeOut("fast");$("#help-content_2").slideToggle("fast");M++;break;case 2:$("#help-content_2").slideToggle("fast");$("#help-content-3").fadeIn("fast");M++;break;case 3:$("#help-content-3").fadeOut("fast");$("#page-help").hide();M=0;break;case 5:$("#help-content-1").hide();$("#help-content_2").hide();$("#help-content-3").hide();$("#page-help").hide();M=0;break;default:$("#help-content-1").fadeIn("fast"),M++}}
$("div#show-preview").on("click",function(){var a=$("div#show-preview");$("div.preview").slideToggle();a.toggleClass("active",!a.hasClass("active"))});$("#open-about").on("click",function(){$("div.page-about").removeClass("about-hide")});$("#close-about-btn").on("click",function(){$("div.page-about").addClass("about-hide")});$(".page-about").on("click",function(a){$(a.target).is(".page-about")&&$("div.page-about").addClass("about-hide")});
$(document).on("click",".tab-children:not(.selected)>input",function(){var a=$(this).attr("class");if("modules"==a||C&&"dependencies"==a||G&&"subpacks"==a){var b=$(this).parent(),c=b.index();$("."+a+".tab-children").removeClass("selected");b.addClass("selected");$("."+a+".tab-content-list>div").removeClass("selected-tab-content").eq(c).addClass("selected-tab-content")}});
$("#modules_add,#dependencies_add,#subpacks_add").on("click",function(){($(this).hasClass("modules")||G&&$(this).hasClass("subpacks")||C&&$(this).hasClass("dependencies"))&&Y($(this).attr("class"));X()});
function Y(a){a=void 0===a?"":a;var b=$("."+a+".tab-body"),c=b.children("label").length;b.append($("<label>").addClass(a+" tab-children invisible_Control").append($("<input>").attr("type","button").addClass(a),$("<div>").addClass("tab-number").text(c),$("<div>").addClass("tab-underBar")));b.children("li:last-child").hide().show(150);a=$("."+a+".tab-content-list");b=a.children("div:first-child").clone().removeClass("selected-tab-content");Array.prototype.forEach.call(b.find('input:not([type="button"])'),
function(e){e.value=e.defaultValue});Array.prototype.forEach.call(b.find("textarea"),function(e){e.value=e.defaultValue});a.append(b)}
$("#modules-delete,#dependencies-delete,#subpacks-delete").on("click",function(a){var b="."+$(this).attr("class");if($(this).hasClass("modules")||G&&$(this).hasClass("subpacks")||C&&$(this).hasClass("dependencies")){var c=b;c=void 0===c?"":c;b=$(c+".tab-children");if(!(""==c||1>=b.length)){$(c+".tab-children.selected").remove();$(c+".tab-content-list>.selected-tab-content").remove();b=$(c+".tab-children");c=$(c+".tab-content-list>div");for(var e=0,d=0;d<b.length;d++){var h=b.eq(d),f=c.eq(d);0==d&&
(h.addClass("selected"),f.addClass("selected-tab-content"));h.children("div.tab-number").text(e);e++}}}X();a.stopPropagation()});$("#author-add").on("click",function(){$c();X()});function $c(a){a=void 0===a?"":a;$("div.authors_list").append($("<label>").addClass("author_name").append($("<div>").addClass("author_num").text($(".author_name").length),$("<input>").attr({type:"text",N:"metadata_author",value:a})))}
$("#author-delete").on("click",function(){$("div.authors_list>.author_name:last-child").remove();X()});$("#issue-control").on("click",function(){var a=$("div.issue-status-label svg");a.hasClass("close")?a.attr("class","open"):a.attr("class","close");$("div.issue_content").slideToggle()});
navigator.share&&($(".about-external-link .share").addClass("supported"),$("#page-share").on("click",function(){return w(function(a){return t(a,navigator.share({title:"Manifest Generator",text:"Manifest Generator -manifest.json\u3092\u7c21\u5358\u306b\u4f5c\u6210\u30fb\u7de8\u96c6-",url:"https://toka7290.github.io/MCAddonSetupManager/"}),0)})}));
$(window).on("keydown",function(a){var b;return w(function(c){switch(c.g){case 1:if(a.defaultPrevented)return c.return();if(!a.ctrlKey){c.g=0;break}switch(a.key.toLowerCase()){case "s":c.g=3;return;case "o":c.g=4;return}c.g=0;break;case 3:return a.stopPropagation(),a.preventDefault(),a.shiftKey?t(c,ad(!0),7):t(c,ad(),7);case 7:c.g=0;break;case 4:return a.stopPropagation(),a.preventDefault(),b=bd,t(c,cd(),11);case 11:return t(c,b(c.h),10);case 10:c.g=0}})});
Nb?($(".import_button.file_system_access").removeClass("disabled"),$(".import_button.file_reader").addClass("disabled"),$(".preview_control_child.save").removeClass("disabled"),$("#input_file_fsa").on("click",function(){var a;return w(function(b){if(1==b.g)return a=bd,t(b,cd(),2);a(b.h);b.g=0})}),$("#control_save").on("click",function(){return w(function(a){ad();a.g=0})}),$(window).on("focus",function(){!y&&O&&dd()})):($(".import_button.file_system_access").addClass("disabled"),$(".import_button.file_reader").removeClass("disabled"),
$(".preview_control_child.save").addClass("disabled"),$("#input-file").on("change",function(){ed()}));function cd(){var a,b,c;return w(function(e){return 1==e.g?(a={multiple:!1,excludeAcceptAllOption:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]},t(e,window.showOpenFilePicker(a),2)):3!=e.g?(b=e.h,c=m(b),O=c.next().value,t(e,dd(),3)):e.return(e.h)})}
function dd(){var a;return w(function(b){return 1==b.g?O?t(b,O.getFile(),2):b.return():3!=b.g?(a=b.h,t(b,a.text(),3)):b.return(b.h)})}
function ad(a){var b=N;a=void 0===a?!1:a;var c,e;return w(function(d){switch(d.g){case 1:a||(c=O);if(c){d.g=2;break}return t(d,window.showSaveFilePicker({excludeAcceptAllOption:!1,types:[{description:"JSON",accept:{"application/json":[".json"]}}]}),3);case 3:c=d.h;case 2:return t(d,c.createWritable(),4);case 4:return e=d.h,t(d,e.write(b),5);case 5:return t(d,e.close(),6);case 6:y=!1,$("#edit_state").toggleClass("changed",y),a||(O=c),d.g=0}})}
function ed(){var a=$("#input-file").prop("files")[0],b=new FileReader;b.onload=function(){bd(b.result)};try{b.readAsText(a)}catch(c){window.alert("\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fmanifest.json\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002manifest.json\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),console.error("error:"+c)}}$(document).on("dragenter dragover",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").removeClass("hide")});
$(".file-drop-zone-pick").on("dragleave",function(a){a.stopPropagation();a.preventDefault();$(".file-drop-zone").addClass("hide")});$(document).on("drop",function(a){y=!0;$(".file-drop-zone").addClass("hide");var b=a;a.originalEvent&&(b=a.originalEvent);b.stopPropagation();b.preventDefault();$("#input-file").prop("files",b.dataTransfer.files);ed()});
navigator.clipboard?($(".preview_control_child.copy").removeClass("disabled"),$("#control_copy").on("click",function(){return w(function(a){if(1==a.g)return t(a,navigator.clipboard.writeText(N),2);$("p#control_copy_text").text("Copied");setTimeout(function(){$("p#control_copy_text").text("Copy")},1E3);a.g=0})})):$(".preview_control_child.copy").addClass("disabled");$("#control_download").on("click",function(){$("<a></a>",{href:window.URL.createObjectURL(new Blob([N])),download:"manifest.json",target:"_blank"})[0].click()});
$("#control_simple").on("click",function(a){z=a.target.checked;fd()});
function fd(){$(".editor_element_group.editor_normal_mode").toggleClass("hide",z);$(".editor_element_group.editor_simple_mode").toggleClass("hide",!z);var a=$("#simple_pack_name"),b=a.val(),c=$("#simple_description"),e=c.val(),d=$("#header_pack_name").val(),h=$("#header_description").val();if(z){""==b&&""!=d&&a.val(d);""==e&&""!=h&&c.val(h);Mb=$(".modules.tab-content-list > div:nth-child(1) #modules_description").val();a="behavior";switch($(".modules.tab-content-list > div:nth-child(1) #modules_type").val()){case "resources":a=
"texture";break;case "world_template":a="world";break;case "skin_pack":a="skin"}$('input[type="radio"][name="simple_type_child"][value="'+a+'"]').prop("checked",!0)}else a.val(""),c.val("")}$("#control_compact").on("click",function(a){za=a.target.checked});$("#format_version").on("change",function(){A=Number($("#format_version").val())});$(document).on("click",'input[type="button"].generate_uuid',function(){$(this).parents("div.type-uuid").find('input[type="text"]').val(U);X()});
function X(){if(z){var a=$("#simple_pack_name").val(),b=$("#simple_description").val(),c=$("#header_pack_name"),e=$("#header_description");c.val(a);e.val(b);b=$("#header_uuid");""==b.val()&&(b.val(U()),y=!0);b=$(".modules.tab-children").length;for(c=0;c<b;c++){e=$(".modules.tab-content-list > div:nth-child("+(c+1)+")");var d=e.find("#modules_type"),h="data",f="behavior";switch($('input[type="radio"][name="simple_type_child"]:checked').val()){case "behavior":h="data";f="behavior";break;case "texture":f=
h="resources";break;case "world":h="world_template";f="world template";break;case "skin":h="skin_pack",f="skin pack"}d.val()!=h&&(Mb="");d.val(h);d=e.find("#modules_description");""==Mb&&(d.val(a.replace(/\u00a7.|\\n/g,"")+" "+f+" module"),y=!0);e=e.find("#modules_uuid");""==e.val()&&(e.val(U()),y=!0)}}gd();hd();id();Lb&&jd();kd();N=ld();$("pre.language-json code.language-json").remove();$("pre.language-json").append($("<code>").addClass("language-json").text(N));a=$("#header_pack_name").val().toString();
if(""==a)a="\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093";else if(null!=a.match(/\\/g)){a=a.split("\\\\");b="";for(var g in a)if(c=a[g].indexOf("\\n"),1<=g&&(b+="\\\\"),-1!=c){b+=a[g].slice(0,a[g].indexOf("\\n")-a[g].length)+"\u2026";break}else b+=""+a[g];a=b}$("#card-title").html(MinecraftText.toHTML(a));c=$("#header_description").val().toString();if(""==c)c="\u00a7c\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e";else if(null!=c.match(/\\/g)){a=g=0;b="";c=c.split("\\\\");for(var k in c){do if(a++,
g=c[k].indexOf("\\n",g+1),-1==g)break;while(3>a);1<=k&&(b+="\\\\");if(-1!=g){b+=c[k].slice(0,g+1-c[k].length)+"\u2026";break}else b+=""+c[k]}c=b}$("#card-description").html(MinecraftText.toHTML(c));MinecraftText.refeashObfuscate();Prism.highlightAll()}function kd(){Lb=!1;"number"===typeof Kb&&window.clearTimeout(Kb);Kb=window.setTimeout(function(){Lb=!0;jd()},500)}
function gd(){C=$("#dependencies_enable").is(":checked")||$("#dependencies_enable").is(":indeterminate");Aa=$("#capabilities_enable").is(":checked")||$("#capabilities_enable").is(":indeterminate");Ba=$("#metadata_enable").is(":checked")||$("#metadata_enable").is(":indeterminate");G=$("#subpacks_enable").is(":checked")||$("#subpacks_enable").is(":indeterminate");var a=$(".dependencies.tab-content-list div.value-element");C?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",
!1),""==$("#dependencies_uuid").val()?$("#dependencies_enable").prop("indeterminate",!0):$("#dependencies_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".capabilities_list .value-element");Aa?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),$("div.capabilities_list div input").is(":checked")?$("#capabilities_enable").prop("indeterminate",!1):$("#capabilities_enable").prop("indeterminate",!0)):(a.addClass("disabled"),
a.find("input").prop("disabled",!0));a=$(".metadata_list .value-element");Ba?(a.removeClass("disabled"),a.find("input").prop("disabled",!1),[0<$(".metadata_author").length?""!=$(".metadata_author").val():!1,""!=$("#metadata_url").val(),""!=$("#metadata_license").val()].some(function(b){return b})?$("#metadata_enable").prop("indeterminate",!1):$("#metadata_enable").prop("indeterminate",!0)):(a.addClass("disabled"),a.find("input").prop("disabled",!0));a=$(".subpacks.tab-content-list div.value-element");
G?(a.find("div.value-label").removeClass("disabled"),a.find("input").prop("disabled",!1),""==$("#subpacks_folder_name").val()&&""==$("#subpacks_name").val()?$("#subpacks_enable").prop("indeterminate",!0):$("#subpacks_enable").prop("indeterminate",!1)):(a.find("div.value-label").addClass("disabled"),a.find("input").prop("disabled",!0))}
function hd(){[".dependencies",".subpacks"].forEach(function(a,b){md(a,[[C,G][b],[C,G][b],[C,G][b]&&1<$(a+".tab-children").length])});1<$(".author_name").length?$(".remove_author").removeClass("disabled").find("input").prop("disabled",!1):$(".remove_author").addClass("disabled").find("input").prop("disabled",!0)}
function md(a,b){a=void 0===a?"":a;b=void 0===b?[0,0,0]:b;[".tab-body",".add-tab",".remove-tab"].forEach(function(c,e){c=$(a+c);1==b[e]?c.removeClass("disabled").find("input").prop("disabled",!1):0==b[e]&&c.addClass("disabled").find("input").prop("disabled",!0)})}
function id(){var a=Array.prototype.map.call($(".modules.tab-content-list > div #modules_type"),function(g){return g.value});H=a.some(function(g){return"world_template"==g});L=a.some(function(g){return"skin_pack"==g});$("#header_min_engine_version").toggleClass("disabled",H||L);$("#header_min_engine_version_input input").prop("disabled",H||L);$("#header_base_game_version").toggleClass("disabled",2<=A&&!H);$("#header_base_game_version_input input").prop("disabled",2<=A&&!H);$("#header_lock_template_options").prop("disabled",
!H).parent().toggleClass("disabled",!H);$("#header_pack_scope_label").toggleClass("disabled",H||L);$("#header_pack_scope").prop("disabled",H||L);var b=[!1,!1,!1,!1,!1,!1,!1],c={},e=(c.data=0,c.resources=1,c.client_data=2,c.javascript=3,c["interface"]=4,c.world_template=5,c.skin_pack=6,c);c=H||L||a.some(function(g){return"resources"==g});for(var d={j:0};d.j<a.length;d={j:d.j},d.j++){b.forEach(function(g){return function(k,l){$(".modules.tab-content-list > div:nth-child("+(g.j+1)+") #modules_type option:nth-child("+
(l+1)+")").prop("disabled",k)}}(d));if(b[e[a[d.j]]]){var h=b.indexOf(!1),f=$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_type").prop("selectedIndex",h);b[h]=!0;a[d.j]=f.val()}b[e[a[d.j]]]=!0;d.j||["resources","world_template","skin_pack"].forEach(function(g){b[e[g]]=!0});c&&b.fill(!0);$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_entry_label").toggleClass("disabled","javascript"!=a[d.j]);$(".modules.tab-content-list > div:nth-child("+(d.j+1)+") #modules_entry").prop("disabled",
"javascript"!=a[d.j])}c?md(".modules",[!1,0,0]):md(".modules",[!0,b.some(function(g){return 0==g}),a.length-1])}
function jd(){var a=new Pb,b=$("#header_min_engine_version_major"),c=b.val();switch(A){case 1:(1<c||13<=Number($("#header_min_engine_version_minor").val()))&&V(a,"[Header:min engine version] \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f31\u3067\u306f1.13\u3088\u308a\u4f4e\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f32\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002",b.parent().find("input"));
break;case 2:1>=c&&13>Number($("#header_min_engine_version_minor").val())&&W(a,"[Header:min engine version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",b.parent().find("input")),1>=Number($("#header_base_game_version_major").val())&&13>Number($("#header_base_game_version_minor").val())&&W(a,"[Header:base game version] version1.12\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",$("#header_base_game_version_major").parent().find("input"))}b=
$("#header_pack_name");c=b.val();""==c?V(a,'[Header:name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002\u540d\u524d\u304c\u7a7a\u306e\u5834\u5408\u3001"\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(a,'[Header:name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_description");c=b.val();""==c?V(a,'[Header:description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u8aac\u660e\u304c\u7a7a\u306e\u5834\u5408\u3001"\u4e0d\u660e\u306a\u30d1\u30c3\u30af\u306e\u8aac\u660e"\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002',b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(a,'[Header:description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#header_uuid");c=b.val();""==c?W(a,"[Header:uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Rb(c)||W(a,"[Header:uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);for(var e=$(".modules.tab-children").length,d=0;d<e;d++){var h=d+1;b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_type");var f=b.val();null==f&&W(a,"[Modules:"+
d+":type] type\u304cnull\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002type\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b);b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_description");c=b.val();""==c?V(a,"[Modules:"+d+":description] \u8aac\u660e\u304c\u3042\u308a\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(a,"[Modules:"+d+':description] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_uuid");c=b.val();""==c?W(a,"[Modules:"+d+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Rb(c)||W(a,"[Modules:"+d+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);"javascript"==f&&(b=$(".modules.tab-content-list > div:nth-child("+h+") #modules_entry"),c=b.val(),""==c?W(a,
"[Modules:"+d+":entry] \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093",b):c.match(/\.js$/)||W(a,"[Modules:"+d+":entry] \u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f .js \u306e\u62e1\u5f35\u5b50\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002 \u30d7\u30e9\u30a4\u30de\u30ea\u30d5\u30a1\u30a4\u30eb\u306fJavaScript\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u305b\u3093\u3002",b))}if(C)for(e=
$(".dependencies.tab-children").length,d=0;d<e;d++)b=$("div.dependencies.tab-content-list > div:nth-child("+(d+1)+") #dependencies_uuid"),c=b.val(),""==c?W(a,"[Dependencies:"+d+":uuid] UUID\u304c\u7a7a\u3067\u3059\u3002UUID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b):Rb(c)||W(a,"[Dependencies:"+d+":uuid] \u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6587\u5b57\u5217\u306f\u6709\u52b9\u306aUUID\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",b);Aa&&($("#experimental_custom_ui").is(":checked")||
$("#chemistry").is(":checked")||$("#raytracing").is(":checked")||V(a,"[Capabilities] \u4e00\u3064\u3082\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",$(".capabilities_list>input")));if(Ba){if(e=$("label.author_name").length)for(d=0;d<e;d++)b=$("input.metadata_author").eq(d),c=b.val(),""==c?V(a,"[Metadata:author:"+d+"] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(a,"[Metadata:author:"+d+'] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u6d88\u53bb\u3059\u308b\u304b\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3057\u3066\u518d\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);else V(a,"[Metadata:author] \u540d\u524d\u304c\u4e00\u3064\u3082\u3042\u308a\u307e\u305b\u3093\u3002",$("div.add_author"));b=$("#metadata_url");c=b.val();""==c?V(a,"[Metadata:url] URL\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(a,'[Metadata:url] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);b=$("#metadata_license");c=b.val();""==c?V(a,"[Metadata:license] \u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",b):"\\"==c.toString().replace(/\\\\/g,"").slice(-1)&&W(a,'[Metadata:license] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',b)}if(G)for(e=$(".subpacks.tab-children").length,
d=0;d<e;d++)c=$("div.subpacks.tab-content-list > div:nth-child("+(d+1)+")"),b=c.find("#subpacks_folder_name"),""==b.val()&&W(a,"[Subpacks:"+d+":folder_name] \u30d5\u30a9\u30eb\u30c0\u30fc\u540d\u304c\u7a7a\u3067\u3059\u3002",b),b=c.find("#subpacks_name"),c=b.val().toString(),""==c?W(a,"[Subpacks:"+d+":name] \u540d\u524d\u304c\u7a7a\u3067\u3059\u3002",b):"\\"==c.replace(/\\\\/g,"").slice(-1)&&W(a,"[Subpacks:"+d+':name] \u6700\u5f8c\u306e\u6587\u5b57\u304c\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5"\\"\u3067\u3059\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\u306b\u3059\u308b\u304b\u6d88\u53bb\u3057\u3066\u304f\u3060\u3055\u3044\u3002',
b);Qb(a)}
function nd(a,b){a=void 0===a?"":a;b=void 0===b?"":b;var c="\u6709\u52b9\u306ajson\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002";if(""==a||""==b)return c;b=b.split(" ");var e=b.findIndex(function(g){return"line"==g}),d=b.findIndex(function(g){return"position"==g});if(-1!=e){var h=parseInt(b[e+1],10);b=function(g){for(var k=0,l=1;l<g;l++)k=a.indexOf("\n",k)+1;return k};var f=b(h-1);b=b(h+1)-1;c+="\n"+(h-1)+"~"+h+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(f,
b)}else-1!=d&&(b=b[d+1],e=a.lastIndexOf("\n",a.lastIndexOf("\n",b)-1)+1,d=null!=(f=null==(h=a.substr(0,e).match(/\n/g))?void 0:h.length)?f:1,c+="\n"+d+"~"+(d+1)+"\u884c\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\n"+a.substring(e,a.indexOf("\n",b-1)));return c}
function bd(a){a=void 0===a?"":a;var b,c,e,d,h,f,g,k,l,q,K,r,v,J,D,Tb,Ub,Vb,Wb,Xb,Yb,P,Z,I,Ca,Da,Ea,Fa,Ga,Ha,ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Q,Qa,aa,Ra,Sa,Ta,Ua,ia,Va,Wa,Xa,Ya,Za,$a,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,R,E,F,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,Mc,S,ba,ca,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Nc,Cb,ja,Oc,Pc,da,Qc,Db,ka,Rc,Sc,Tc,Uc,Vc,Wc,T,la,ma,Eb,Fb,Gb,Hb,Ib,Jb;return w(function(Xc){b={};try{b=
JSON.parse(a)}catch(Yc){if(a.match(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g)&&window.confirm(nd(a,Yc.message)+"\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u9664\u53bb\u3057\u3066\u518d\u8a66\u884c\u3057\u307e\u3059\u304b\uff1f\n")){c=a.replace(/\/\*[\s\S]*?\*\/ | \/\/(?=.*)(?!.*(",|")).*/g,"");try{b=JSON.parse(c)}catch(Zc){window.alert(nd(c,Zc.message)),console.error("error:"+Zc)}}else console.error("error:"+Yc)}if(null==(e=b)?0:e.format_version)$("#format_version").val(b.format_version);
else if(null==(d=b)?0:null==(h=d.header)?0:h.modules){window.alert("\u53e4\u3044\u5f62\u5f0f(pack_manifest.json)\u304b\u3089\u5909\u63db\u3057\u307e\u3059\u3002");f=b.header;$("#header_pack_name").val(null!=(k=null==(g=f)?void 0:g.name)?k:"");$("#header_description").val(null!=(q=null==(l=f)?void 0:l.description)?q:"");$("#header_uuid").val(null!=(r=null==(K=f)?void 0:K.pack_id)?r:"");D=(null!=(J=null==(v=f)?void 0:v.packs_version)?J:"1.0.0").split(".");$("#header_version_major").val(null!=(Ub=null==
(Tb=D)?void 0:Tb[0])?Ub:1);$("#header_version_minor").val(null!=(Wb=null==(Vb=D)?void 0:Vb[1])?Wb:0);$("#header_version_patch").val(null!=(Yb=null==(Xb=D)?void 0:Xb[2])?Yb:0);if(null!=f.modules)for(P=0;P<f.modules.length;P++)0<P&&Y("modules"),Z=f.modules[P],I=$(".modules.tab-content-list > div:nth-child("+(P+1)+")"),Da=Ca=void 0,I.find("#modules_type").val(null!=(Da=null==(Ca=Z)?void 0:Ca.type)?Da:"data"),Fa=Ea=void 0,I.find("#modules_description").val(null!=(Fa=null==(Ea=Z)?void 0:Ea.description)?
Fa:""),Ha=Ga=void 0,ha=(null!=(Ha=null==(Ga=Z)?void 0:Ga.version)?Ha:"1.0.0").split("."),Ja=Ia=void 0,I.find("#modules_version_major").val(null!=(Ja=null==(Ia=ha)?void 0:Ia[0])?Ja:1),La=Ka=void 0,I.find("#modules_version_minor").val(null!=(La=null==(Ka=ha)?void 0:Ka[1])?La:0),Na=Ma=void 0,I.find("#modules_version_patch").val(null!=(Na=null==(Ma=ha)?void 0:Ma[2])?Na:0),Pa=Oa=void 0,I.find("#modules_uuid").val(null!=(Pa=null==(Oa=Z)?void 0:Oa.uuid)?Pa:"");if(null!=f.dependencies)for($("#dependencies_enable").prop("checked",
!0),Q=0;Q<f.dependencies.length;Q++)0<Q&&Y("dependencies"),Qa=f.dependencies[Q],aa=$("div.dependencies.tab-content-list > div:nth-child("+(Q+1)+")"),Sa=Ra=void 0,aa.find("#dependencies_uuid").val(null!=(Sa=null==(Ra=Qa)?void 0:Ra.uuid)?Sa:""),Ua=Ta=void 0,ia=(null!=(Ua=null==(Ta=Qa)?void 0:Ta.version)?Ua:"1.0.0").split("."),Wa=Va=void 0,aa.find("#dependencies_version_major").val(null!=(Wa=null==(Va=ia)?void 0:Va[0])?Wa:1),Ya=Xa=void 0,aa.find("#dependencies_version_minor").val(null!=(Ya=null==(Xa=
ia)?void 0:Xa[1])?Ya:0),$a=Za=void 0,aa.find("#dependencies_version_patch").val(null!=($a=null==(Za=ia)?void 0:Za[2])?$a:0);X();return Xc.return()}$("#header_pack_name").val(null!=($b=null==(Zb=b.header)?void 0:Zb.name)?$b:"");$("#header_description").val(null!=(bc=null==(ac=b.header)?void 0:ac.description)?bc:"");$("#header_version_major").val(null!=(ec=null==(cc=b.header)?void 0:null==(dc=cc.version)?void 0:dc[0])?ec:1);$("#header_version_minor").val(null!=(hc=null==(fc=b.header)?void 0:null==(gc=
fc.version)?void 0:gc[1])?hc:0);$("#header_version_patch").val(null!=(kc=null==(ic=b.header)?void 0:null==(jc=ic.version)?void 0:jc[2])?kc:0);$("#header_min_engine_version_major").val(null!=(nc=null==(lc=b.header)?void 0:null==(mc=lc.min_engine_version)?void 0:mc[0])?nc:1);$("#header_min_engine_version_minor").val(null!=(qc=null==(oc=b.header)?void 0:null==(pc=oc.min_engine_version)?void 0:pc[1])?qc:13);$("#header_min_engine_version_patch").val(null!=(tc=null==(rc=b.header)?void 0:null==(sc=rc.min_engine_version)?
void 0:sc[2])?tc:0);$("#header_uuid").val(null!=(vc=null==(uc=b.header)?void 0:uc.uuid)?vc:"");$("#header_platform_locked").prop("checked",null!=(xc=null==(wc=b.header)?void 0:wc.platform_locked)?xc:!1);$("#header_base_game_version_major").val(null!=(Ac=null==(yc=b.header)?void 0:null==(zc=yc.base_game_version)?void 0:zc[0])?Ac:1);$("#header_base_game_version_minor").val(null!=(Dc=null==(Bc=b.header)?void 0:null==(Cc=Bc.base_game_version)?void 0:Cc[1])?Dc:13);$("#header_base_game_version_patch").val(null!=
(Gc=null==(Ec=b.header)?void 0:null==(Fc=Ec.base_game_version)?void 0:Fc[2])?Gc:0);$("#header_lock_template_options").prop("checked",null!=(Ic=null==(Hc=b.header)?void 0:Hc.lock_template_options)?Ic:!1);$("#header_pack_scope").val(null!=(Kc=null==(Jc=b.header)?void 0:Jc.pack_scope)?Kc:"none");if(null==(Lc=b)?0:Lc.modules)for(R=0;R<b.modules.length;R++)0<R&&Y("modules"),E=b.modules[R],F=$(".modules.tab-content-list > div:nth-child("+(R+1)+")"),bb=ab=void 0,F.find("#modules_type").val(null!=(bb=null==
(ab=E)?void 0:ab.type)?bb:"data"),db=cb=void 0,F.find("#modules_description").val(null!=(db=null==(cb=E)?void 0:cb.description)?db:""),gb=fb=eb=void 0,F.find("#modules_version_major").val(null!=(gb=null==(eb=E)?void 0:null==(fb=eb.version)?void 0:fb[0])?gb:1),jb=ib=hb=void 0,F.find("#modules_version_minor").val(null!=(jb=null==(hb=E)?void 0:null==(ib=hb.version)?void 0:ib[1])?jb:0),mb=lb=kb=void 0,F.find("#modules_version_patch").val(null!=(mb=null==(kb=E)?void 0:null==(lb=kb.version)?void 0:lb[2])?
mb:0),ob=nb=void 0,F.find("#modules_uuid").val(null!=(ob=null==(nb=E)?void 0:nb.uuid)?ob:""),qb=pb=void 0,F.find("#modules_entry").val(null!=(qb=null==(pb=E)?void 0:pb.entry)?qb:"");if(null==(Mc=b)?0:Mc.dependencies)for($("#dependencies_enable").prop("checked",!0),S=0;S<b.dependencies.length;S++)0<S&&Y("dependencies"),ba=b.dependencies[S],ca=$("div.dependencies.tab-content-list > div:nth-child("+(S+1)+")"),sb=rb=void 0,ca.find("#dependencies_uuid").val(null!=(sb=null==(rb=ba)?void 0:rb.uuid)?sb:""),
vb=ub=tb=void 0,ca.find("#dependencies_version_major").val(null!=(vb=null==(tb=ba)?void 0:null==(ub=tb.version)?void 0:ub[0])?vb:1),yb=xb=wb=void 0,ca.find("#dependencies_version_minor").val(null!=(yb=null==(wb=ba)?void 0:null==(xb=wb.version)?void 0:xb[1])?yb:0),Bb=Ab=zb=void 0,ca.find("#dependencies_version_patch").val(null!=(Bb=null==(zb=ba)?void 0:null==(Ab=zb.version)?void 0:Ab[2])?Bb:0);if(null==(Nc=b)?0:Nc.capabilities)for($("#capabilities_enable").prop("checked",!0),Cb=m(b.capabilities),ja=
Cb.next();!ja.done;ja=Cb.next())switch(Oc=ja.value,Oc){case "experimental_custom_ui":$("#experimental_custom_ui").prop("checked",!0);break;case "chemistry":$("#chemistry").prop("checked",!0);break;case "raytracing":$("#raytracing").prop("checked",!0)}if(null==(Pc=b)?0:Pc.metadata){$("#metadata_enable").prop("checked",!0);da=b.metadata;if(null==(Qc=da)?0:Qc.authors)for(Db=m(da.authors),ka=Db.next();!ka.done;ka=Db.next())Rc=ka.value,$c(Rc);$("#metadata_url").val(null!=(Tc=null==(Sc=da)?void 0:Sc.url)?
Tc:"");$("#metadata_license").val(null!=(Vc=null==(Uc=da)?void 0:Uc.license)?Vc:"")}if(null==(Wc=b)?0:Wc.subpacks)for($("#subpacks_enable").prop("checked",!0),T=0;T<b.subpacks.length;T++)0<T&&Y("subpacks"),la=b.subpacks[T],ma=$("div.subpacks.tab-content-list > div:nth-child("+(T+1)+")"),Fb=Eb=void 0,ma.find("#subpacks_folder_name").val(null!=(Fb=null==(Eb=la)?void 0:Eb.folder_name)?Fb:""),Hb=Gb=void 0,ma.find("#subpacks_name").val(null!=(Hb=null==(Gb=la)?void 0:Gb.name)?Hb:""),Jb=Ib=void 0,ma.find("#subpacks_memory_tier").val(null!=
(Jb=null==(Ib=la)?void 0:Ib.memory_tier)?Jb:0);fd();X();Xc.g=0})}
function ld(){var a=new Ob,b={};b.format_version=A;b.header={};b.header.name=a.register($("#header_pack_name").val());b.header.description=a.register($("#header_description").val());b.header.version=a.register([Number($("#header_version_major").val()),Number($("#header_version_minor").val()),Number($("#header_version_patch").val())]);b.header.uuid=$("#header_uuid").val();b.header.platform_locked=$("#header_platform_locked").is(":checked")?!0:void 0;H?(2<=A&&(b.header.base_game_version=a.register([Number($("#header_base_game_version_major").val()),
Number($("#header_base_game_version_minor").val()),Number($("#header_base_game_version_patch").val())])),b.header.lock_template_options=$("#header_lock_template_options").is(":checked")):L||(b.header.min_engine_version=a.register([Number($("#header_min_engine_version_major").val()),Number($("#header_min_engine_version_minor").val()),Number($("#header_min_engine_version_patch").val())]),b.header.pack_scope="none"!=$("#header_pack_scope").val()?$("#header_pack_scope").val():void 0);b.modules=[];for(var c=
$(".modules.tab-children").length,e=0;e<c;e++){var d=$(".modules.tab-content-list > div:nth-child("+(e+1)+")"),h=d.find("#modules_type").val();null!=h&&void 0!=h&&(b.modules[e]={},b.modules[e].type=h,b.modules[e].description=a.register(d.find("#modules_description").val()),b.modules[e].version=a.register([Number(d.find("#modules_version_major").val()),Number(d.find("#modules_version_minor").val()),Number(d.find("#modules_version_patch").val())]),b.modules[e].uuid=d.find("#modules_uuid").val(),b.modules[e].entry=
"javascript"==b.modules[e].type?a.register(d.find("#modules_entry").val()):void 0)}if(C)for(b.dependencies=[],c=$(".dependencies.tab-children").length,e=0;e<c;e++)d=$("div.dependencies.tab-content-list > div:nth-child("+(e+1)+")"),b.dependencies[e]={},b.dependencies[e].uuid=d.find("#dependencies_uuid").val(),b.dependencies[e].version=a.register([Number(d.find("#dependencies_version_major").val()),Number(d.find("#dependencies_version_minor").val()),Number(d.find("#dependencies_version_patch").val())]);
Aa&&$("div.capabilities_list div input").is(":checked")&&(b.capabilities=[],$("#experimental_custom_ui").is(":checked")&&b.capabilities.push("experimental_custom_ui"),$("#chemistry").is(":checked")&&b.capabilities.push("chemistry"),$("#raytracing").is(":checked")&&b.capabilities.push("raytracing"));c=[function(){for(var f=$("label.author_name").length,g=0;g<f;g++)if(""!=$(".metadata_author").eq(g).val())return!0;return!1}(),""!=$("#metadata_url").val(),""!=$("#metadata_license").val()];if(Ba&&c.some(function(f){return f})){b.metadata=
{};if(c[0])for(b.metadata.authors=[],e=$("label.author_name").length,d=0;d<e;d++)b.metadata.authors.push(a.register($("input.metadata_author").eq(d).val()));c[1]&&(b.metadata.url=a.register($("#metadata_url").val()));c[2]&&(b.metadata.license=a.register($("#metadata_license").val()))}if(G)for(b.subpacks=[],c=$(".subpacks.tab-children").length,e=0;e<c;e++)d=e+1,b.subpacks[e]={},h=$("div.subpacks.tab-content-list > div:nth-child("+d+")"),b.subpacks[e].folder_name=h.find("#subpacks_folder_name").val(),
b.subpacks[e].name=a.register($("div.subpacks.tab-content-list > div:nth-child("+d+") #subpacks_name").val()),b.subpacks[e].memory_tier=Number(h.find("#subpacks_memory_tier").val());return a.replaceAll(JSON.stringify(b,void 0,za?void 0:"  "),za)};
